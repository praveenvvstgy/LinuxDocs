<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   setpgid(2) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="setpgid(2) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="setpgid.2" name="setpgid.2" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     setpgid, getpgid, setpgrp, getpgrp &mdash; set/get process
      group
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="funcsynopsis">
     <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;unistd.h&gt;
</pre>
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          setpgid
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        pid_t
        <var class="pdparam">
         pid
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        pid_t
        <var class="pdparam">
         pgid
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         pid_t
         <strong>
          getpgid
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        pid_t
        <var class="pdparam">
         pid
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <pre class="funcsynopsisinfo" xml:space="preserve">
/* POSIX.1 version */
</pre>
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         pid_t
         <strong>
          getpgrp
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        <code>
         void)
        </code>
        ;
       </td>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <pre class="funcsynopsisinfo" xml:space="preserve">
/* BSD version */
</pre>
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         pid_t
         <strong>
          getpgrp
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        pid_t
        <var class="pdparam">
         pid
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <pre class="funcsynopsisinfo" xml:space="preserve">
/* System V version */
</pre>
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          setpgrp
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        <code>
         void)
        </code>
        ;
       </td>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <pre class="funcsynopsisinfo" xml:space="preserve">
/* BSD version */
</pre>
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          setpgrp
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        pid_t
        <var class="pdparam">
         pid
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        pid_t
        <var class="pdparam">
         pgid
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
     <table border="0" summary="Note">
      <tr>
       <td align="center" colspan="1" rowspan="2" valign="top" width="25">
        <img alt="[Note]" src="../stylesheet/note.png"/>
       </td>
       <th align="left" colspan="1" rowspan="1">
        Note
       </th>
      </tr>
      <tr>
       <td align="left" colspan="1" rowspan="1" valign="top">
        <div class="featuretests">
         <table style="border-collapse: collapse;">
          <colgroup span="1">
           <col span="1">
           </col>
          </colgroup>
          <thead>
           <tr>
            <th colspan="1" rowspan="1" style="">
             Feature Test Macro Requirements
                      for glibc (see
             <a class="link" href="../htmlman7/feature_test_macros.7.html" shape="rect" target="_top">
              <span class="citerefentry">
               <span class="refentrytitle">
                feature_test_macros
               </span>
               (7)
              </span>
             </a>
             ):
            </th>
           </tr>
          </thead>
          <tbody>
           <tr>
            <td colspan="1" rowspan="1" style="">
             <code class="function">
              getpgid
             </code>
             ():
            </td>
           </tr>
           <tr>
            <td class="featuretestdef" colspan="1" rowspan="1" style="">
             <code class="constant">
              _XOPEN_SOURCE
             </code>
             &gt;= 500 ||
             <code class="constant">
              _XOPEN_SOURCE
             </code>
             &amp;&amp;
             <code class="constant">
              _XOPEN_SOURCE_EXTENDED
             </code>
            </td>
           </tr>
           <tr>
            <td class="featuretestver" colspan="1" rowspan="1" style="">
             || /*
                      Since glibc 2.12: */
            </td>
           </tr>
           <tr>
            <td class="featuretestdef" colspan="1" rowspan="1" style="">
             <code class="constant">
              _POSIX_C_SOURCE
             </code>
             &gt;= 200809L
            </td>
           </tr>
           <tr>
            <td colspan="1" rowspan="1" style="">
             <code class="function">
              setpgrp
             </code>
             () (POSIX.1):
            </td>
           </tr>
           <tr>
            <td class="featuretestdef" colspan="1" rowspan="1" style="">
             <code class="constant">
              _SVID_SOURCE
             </code>
             ||
             <code class="constant">
              _XOPEN_SOURCE
             </code>
             &gt;= 500 ||
             <code class="constant">
              _XOPEN_SOURCE
             </code>
             &amp;&amp;
             <code class="constant">
              _XOPEN_SOURCE_EXTENDED
             </code>
             ||
                      /* Since glibc 2.19:
            </td>
           </tr>
           <tr>
            <td class="featuretestdef" colspan="1" rowspan="1" style="">
             */
             <code class="constant">
              _BSD_SOURCE
             </code>
            </td>
           </tr>
           <tr>
            <td colspan="1" rowspan="1" style="">
             <code class="function">
              setpgrp
             </code>
             () (BSD),
             <code class="function">
              getpgrp
             </code>
             () (BSD)
                      [before glibc 2.19]:
            </td>
           </tr>
           <tr>
            <td class="featuretestdef" colspan="1" rowspan="1" style="">
             <code class="constant">
              _BSD_SOURCE
             </code>
             &amp;&amp; ! (
             <code class="constant">
              _POSIX_SOURCE
             </code>
             ||
             <code class="constant">
              _POSIX_C_SOURCE
             </code>
             ||
             <code class="constant">
              _XOPEN_SOURCE
             </code>
             ||
             <code class="constant">
              _XOPEN_SOURCE_EXTENDED
             </code>
             ||
             <code class="constant">
              _GNU_SOURCE
             </code>
             ||
             <code class="constant">
              _SVID_SOURCE
             </code>
             )
            </td>
           </tr>
          </tbody>
         </table>
        </div>
       </td>
      </tr>
     </table>
    </div>
   </div>
   <div class="refsect1">
    <a id="setpgid-2_sect1" name="setpgid-2_sect1" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     All of these interfaces are available on Linux, and are
      used for getting and setting the process group ID (PGID) of a
      process. The preferred, POSIX.1-specified ways of doing this
      are:
     <code class="function">
      getpgrp
     </code>
     (void), for
      retrieving the calling process's PGID; and
     <code class="function">
      setpgid
     </code>
     (), for setting a process's
      PGID.
    </p>
    <p>
     <code class="function">
      setpgid
     </code>
     () sets the PGID of
      the process specified by
     <em class="parameter">
      <code>
       pid
      </code>
     </em>
     to
     <em class="parameter">
      <code>
       pgid
      </code>
     </em>
     . If
     <em class="parameter">
      <code>
       pid
      </code>
     </em>
     is zero, then the process
      ID of the calling process is used. If
     <em class="parameter">
      <code>
       pgid
      </code>
     </em>
     is zero, then the PGID of
      the process specified by
     <em class="parameter">
      <code>
       pid
      </code>
     </em>
     is made the same as its
      process ID. If
     <code class="function">
      setpgid
     </code>
     () is
      used to move a process from one process group to another (as
      is done by some shells when creating pipelines), both process
      groups must be part of the same session (see
     <a class="link" href="../htmlman2/setsid.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        setsid
       </span>
       (2)
      </span>
     </a>
     and
     <a class="link" href="../htmlman7/credentials.7.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        credentials
       </span>
       (7)
      </span>
     </a>
     ). In this
      case, the
     <em class="parameter">
      <code>
       pgid
      </code>
     </em>
     specifies an existing process group to be joined and the
      session ID of that group must match the session ID of the
      joining process.
    </p>
    <p>
     The POSIX.1 version of
     <code class="function">
      getpgrp
     </code>
     (), which takes no arguments,
      returns the PGID of the calling process.
    </p>
    <p>
     <code class="function">
      getpgid
     </code>
     () returns the PGID
      of the process specified by
     <em class="parameter">
      <code>
       pid
      </code>
     </em>
     . If
     <em class="parameter">
      <code>
       pid
      </code>
     </em>
     is zero, the process ID of
      the calling process is used. (Retrieving the PGID of a
      process other than the caller is rarely necessary, and the
      POSIX.1
     <code class="function">
      getpgrp
     </code>
     () is preferred
      for that task.)
    </p>
    <p>
     The System V-style
     <code class="function">
      setpgrp
     </code>
     (), which takes no arguments, is
      equivalent to
     <span class="emphasis">
      <em>
       setpgid(0,
      0)
      </em>
     </span>
     .
    </p>
    <p>
     The BSD-specific
     <code class="function">
      setpgrp
     </code>
     ()
      call, which takes arguments
     <em class="parameter">
      <code>
       pid
      </code>
     </em>
     and
     <em class="parameter">
      <code>
       pgid
      </code>
     </em>
     , is is a wrapper function
      that calls
    </p>
    <p>
     setpgid(pid, pgid)
    </p>
    <p>
     Since glibc 2.19, the BSD-specific
     <code class="function">
      setpgrp
     </code>
     () function is no longer exposed by
     <code class="literal">
      &lt;
     </code>
     <code class="filename">
      unistd.h
     </code>
     <code class="literal">
      &gt;
     </code>
     calls should be replaced with the
     <code class="function">
      setpgid
     </code>
     () call shown above.
    </p>
    <p>
     The BSD-specific
     <code class="function">
      getpgrp
     </code>
     ()
      call, which takes a single
     <em class="parameter">
      <code>
       pid
      </code>
     </em>
     argument, is a wrapper
      function that calls
    </p>
    <p>
     getpgid(pid)
    </p>
    <p>
     Since glibc 2.19, the BSD-specific
     <code class="function">
      getpgrp
     </code>
     () function is no longer exposed by
     <code class="literal">
      &lt;
     </code>
     <code class="filename">
      unistd.h
     </code>
     <code class="literal">
      &gt;
     </code>
     calls should be replaced with calls to the POSIX.1
     <code class="function">
      getpgrp
     </code>
     () which takes no
      arguments (if the intent is to obtain the caller's PGID), or
      with the
     <code class="function">
      getpgid
     </code>
     () call shown
      above.
    </p>
   </div>
   <div class="refsect1">
    <a id="setpgid-2_sect2" name="setpgid-2_sect2" shape="rect">
    </a>
    <h2>
     RETURN VALUE
    </h2>
    <p>
     On success,
     <code class="function">
      setpgid
     </code>
     () and
     <code class="function">
      setpgrp
     </code>
     () return zero. On
      error, &minus;1 is returned, and
     <code class="varname">
      errno
     </code>
     is set appropriately.
    </p>
    <p>
     The POSIX.1
     <code class="function">
      getpgrp
     </code>
     () always
      returns the PGID of the caller.
    </p>
    <p>
     <code class="function">
      getpgid
     </code>
     (), and the
      BSD-specific
     <code class="function">
      getpgrp
     </code>
     () return a
      process group on success. On error, &minus;1 is returned, and
     <code class="varname">
      errno
     </code>
     is set appropriately.
    </p>
   </div>
   <div class="refsect1">
    <a id="setpgid-2_sect3" name="setpgid-2_sect3" shape="rect">
    </a>
    <h2>
     ERRORS
    </h2>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        <span class="errorname">
         EACCES
        </span>
       </span>
      </dt>
      <dd>
       <p>
        An attempt was made to change the process group ID
            of one of the children of the calling process and the
            child had already performed an
        <a class="link" href="../htmlman2/execve.2.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           execve
          </span>
          (2)
         </span>
        </a>
        (
        <code class="function">
         setpgid
        </code>
        (),
        <code class="function">
         setpgrp
        </code>
        ()).
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         EINVAL
        </span>
       </span>
      </dt>
      <dd>
       <p>
        <em class="parameter">
         <code>
          pgid
         </code>
        </em>
        is less
            than 0 (
        <code class="function">
         setpgid
        </code>
        (),
        <code class="function">
         setpgrp
        </code>
        ()).
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         EPERM
        </span>
       </span>
      </dt>
      <dd>
       <p>
        An attempt was made to move a process into a process
            group in a different session, or to change the process
            group ID of one of the children of the calling process
            and the child was in a different session, or to change
            the process group ID of a session leader (
        <code class="function">
         setpgid
        </code>
        (),
        <code class="function">
         setpgrp
        </code>
        ()).
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         ESRCH
        </span>
       </span>
      </dt>
      <dd>
       <p>
        For
        <code class="function">
         getpgid
        </code>
        ():
        <em class="parameter">
         <code>
          pid
         </code>
        </em>
        does not
            match any process. For
        <code class="function">
         setpgid
        </code>
        ():
        <em class="parameter">
         <code>
          pid
         </code>
        </em>
        is not the calling
            process and not a child of the calling process.
       </p>
      </dd>
     </dl>
    </div>
   </div>
   <div class="refsect1">
    <a id="setpgid-2_sect4" name="setpgid-2_sect4" shape="rect">
    </a>
    <h2>
     CONFORMING TO
    </h2>
    <p>
     <code class="function">
      setpgid
     </code>
     () and the version of
     <code class="function">
      getpgrp
     </code>
     () with no arguments
      conform to POSIX.1-2001.
    </p>
    <p>
     POSIX.1-2001 also specifies
     <code class="function">
      getpgid
     </code>
     () and the version of
     <code class="function">
      setpgrp
     </code>
     () that takes no arguments.
      (POSIX.1-2008 marks this
     <code class="function">
      setpgrp
     </code>
     () specification as obsolete.)
    </p>
    <p>
     The version of
     <code class="function">
      getpgrp
     </code>
     ()
      with one argument and the version of
     <code class="function">
      setpgrp
     </code>
     () that takes two arguments derive
      from 4.2BSD, and are not specified by POSIX.1.
    </p>
   </div>
   <div class="refsect1">
    <a id="setpgid-2_sect5" name="setpgid-2_sect5" shape="rect">
    </a>
    <h2>
     NOTES
    </h2>
    <p>
     A child created via
     <a class="link" href="../htmlman2/fork.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        fork
       </span>
       (2)
      </span>
     </a>
     inherits its
      parent's process group ID. The PGID is preserved across an
     <a class="link" href="../htmlman2/execve.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        execve
       </span>
       (2)
      </span>
     </a>
     .
    </p>
    <p>
     Each process group is a member of a session and each
      process is a member of the session of which its process group
      is a member.
    </p>
    <p>
     A session can have a controlling terminal. At any time,
      one (and only one) of the process groups in the session can
      be the foreground process group for the terminal; the
      remaining process groups are in the background. If a signal
      is generated from the terminal (e.g., typing the interrupt
      key to generate
     <code class="constant">
      SIGINT
     </code>
     ), that
      signal is sent to the foreground process group. (See
     <a class="link" href="../htmlman3/termios.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        termios
       </span>
       (3)
      </span>
     </a>
     for a
      description of the characters that generate signals.) Only
      the foreground process group may
     <a class="link" href="../htmlman2/read.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        read
       </span>
       (2)
      </span>
     </a>
     from the terminal;
      if a background process group tries to
     <a class="link" href="../htmlman2/read.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        read
       </span>
       (2)
      </span>
     </a>
     from the terminal,
      then the group is sent a
     <code class="constant">
      SIGTTIN
     </code>
     signal, which suspends it. The
     <a class="link" href="../htmlman3/tcgetpgrp.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        tcgetpgrp
       </span>
       (3)
      </span>
     </a>
     and
     <a class="link" href="../htmlman3/tcgetpgrp.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        tcsetpgrp
       </span>
       (3)
      </span>
     </a>
     functions are
      used to get/set the foreground process group of the
      controlling terminal.
    </p>
    <p>
     The
     <code class="function">
      setpgid
     </code>
     () and
     <code class="function">
      getpgrp
     </code>
     () calls are used by
      programs such as
     <span class="citerefentry">
      <span class="refentrytitle">
       bash
      </span>
      (1)
     </span>
     to create process
      groups in order to implement shell job control.
    </p>
    <p>
     If a session has a controlling terminal, and the
     <code class="constant">
      CLOCAL
     </code>
     flag for that terminal
      is not set, and a terminal hangup occurs, then the session
      leader is sent a
     <code class="constant">
      SIGHUP
     </code>
     . If the
      session leader exits, then a
     <code class="constant">
      SIGHUP
     </code>
     signal will also be sent to each
      process in the foreground process group of the controlling
      terminal.
    </p>
    <p>
     If the exit of the process causes a process group to
      become orphaned, and if any member of the newly orphaned
      process group is stopped, then a
     <code class="constant">
      SIGHUP
     </code>
     signal followed by a
     <code class="constant">
      SIGCONT
     </code>
     signal will be sent to each process
      in the newly orphaned process group. An orphaned process
      group is one in which the parent of every member of process
      group is either itself also a member of the process group or
      is a member of a process group in a different session (see
      also
     <a class="link" href="../htmlman7/credentials.7.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        credentials
       </span>
       (7)
      </span>
     </a>
     ).
    </p>
   </div>
   <div class="refsect1">
    <a id="setpgid-2_sect6" name="setpgid-2_sect6" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <a class="link" href="../htmlman2/getuid.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        getuid
       </span>
       (2)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman2/setsid.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        setsid
       </span>
       (2)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/tcgetpgrp.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        tcgetpgrp
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/tcgetpgrp.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        tcsetpgrp
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/termios.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        termios
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman7/credentials.7.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        credentials
       </span>
       (7)
      </span>
     </a>
    </p>
   </div>
   <div class="colophon">
    <a id="setpgid-2_sect7" name="setpgid-2_sect7" shape="rect">
    </a>
    <h2>
     COLOPHON
    </h2>
    <p>
     This page is part of release 3.72 of the Linux
     <em class="replaceable">
      <code>
       man-pages
      </code>
     </em>
     project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man&minus;pages/.
    </p>
   </div>
  </div>
 </body>
</html>

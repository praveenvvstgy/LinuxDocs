<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   bind(2) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="bind(2) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="bind.2" name="bind.2" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     bind &mdash; bind a name to a socket
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">
#include &lt;sys/types.h&gt;           /* See NOTES */
#include &lt;sys/socket.h&gt;
</pre>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          bind
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         sockfd
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        const struct sockaddr *
        <var class="pdparam">
         addr
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        socklen_t
        <var class="pdparam">
         addrlen
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
   </div>
   <div class="refsect1">
    <a id="bind-2_sect1" name="bind-2_sect1" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     When a socket is created with
     <a class="link" href="../htmlman2/socket.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        socket
       </span>
       (2)
      </span>
     </a>
     , it exists in a
      name space (address family) but has no address assigned to
      it.
     <code class="function">
      bind
     </code>
     () assigns the address
      specified by
     <em class="parameter">
      <code>
       addr
      </code>
     </em>
     to
      the socket referred to by the file descriptor
     <em class="parameter">
      <code>
       sockfd
      </code>
     </em>
     .
     <em class="parameter">
      <code>
       addrlen
      </code>
     </em>
     specifies the size, in
      bytes, of the address structure pointed to by
     <em class="parameter">
      <code>
       addr
      </code>
     </em>
     . Traditionally, this
      operation is called
     <span class="quote">
      &ldquo;
      <span class="quote">
       assigning a name to a
      socket
      </span>
      &rdquo;
     </span>
     .
    </p>
    <p>
     It is normally necessary to assign a local address using
     <code class="function">
      bind
     </code>
     () before a
     <code class="constant">
      SOCK_STREAM
     </code>
     socket may receive connections
      (see
     <a class="link" href="../htmlman2/accept.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        accept
       </span>
       (2)
      </span>
     </a>
     ).
    </p>
    <p>
     The rules used in name binding vary between address
      families. Consult the manual entries in Section 7 for
      detailed information. For
     <code class="constant">
      AF_INET
     </code>
     see
     <a class="link" href="../htmlman7/ip.7.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        ip
       </span>
       (7)
      </span>
     </a>
     , for
     <code class="constant">
      AF_INET6
     </code>
     see
     <a class="link" href="../htmlman7/ipv6.7.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        ipv6
       </span>
       (7)
      </span>
     </a>
     , for
     <code class="constant">
      AF_UNIX
     </code>
     see
     <a class="link" href="../htmlman7/unix.7.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        unix
       </span>
       (7)
      </span>
     </a>
     , for
     <code class="constant">
      AF_APPLETALK
     </code>
     see
     <a class="link" href="../htmlman7/ddp.7.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        ddp
       </span>
       (7)
      </span>
     </a>
     , for
     <code class="constant">
      AF_PACKET
     </code>
     see
     <a class="link" href="../htmlman7/packet.7.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        packet
       </span>
       (7)
      </span>
     </a>
     , for
     <code class="constant">
      AF_X25
     </code>
     see
     <a class="link" href="../htmlman7/x25.7.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        x25
       </span>
       (7)
      </span>
     </a>
     and for
     <code class="constant">
      AF_NETLINK
     </code>
     see
     <a class="link" href="../htmlman7/netlink.7.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        netlink
       </span>
       (7)
      </span>
     </a>
     .
    </p>
    <p>
     The actual structure passed for the
     <em class="parameter">
      <code>
       addr
      </code>
     </em>
     argument will depend on
      the address family. The
     <span class="structname">
      sockaddr
     </span>
     structure is defined as
      something like:
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <div class="structdef">
       <table style="border-collapse: collapse;">
        <colgroup span="1">
         <col class="c1" span="1">
         </col>
         <col class="c2" span="1">
         </col>
         <col class="c3" span="1">
         </col>
         <col class="c4" span="1">
         </col>
         <col class="c5" span="1">
         </col>
        </colgroup>
        <tbody>
         <tr>
          <td align="left" class="structdefhdr" colspan="1" rowspan="1" style="">
           struct
          </td>
          <td align="left" class="structdefhdr" colspan="4" rowspan="1" style="">
           <span class="structname">
            sockaddr
           </span>
           &nbsp;{
          </td>
         </tr>
         <tr>
          <td colspan="1" rowspan="1" style="">
           &nbsp;
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           <span class="type">
            sa_family_t
           </span>
          </td>
          <td align="right" class="norightpad" colspan="1" rowspan="1" style="">
           &nbsp;
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           <em class="structfield">
            <code>
             sa_family
            </code>
           </em>
           ;
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           &nbsp;
          </td>
         </tr>
         <tr>
          <td colspan="1" rowspan="1" style="">
           &nbsp;
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           <span class="type">
            char
           </span>
          </td>
          <td align="right" class="norightpad" colspan="1" rowspan="1" style="">
           &nbsp;
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           <em class="structfield">
            <code>
             sa_data
            </code>
           </em>
           [14];
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           &nbsp;
          </td>
         </tr>
         <tr>
          <td align="left" class="structdefftr" colspan="5" rowspan="1" style="">
           };
          </td>
         </tr>
        </tbody>
       </table>
      </div>
     </blockquote>
    </div>
    <p>
     The only purpose of this structure is to cast the
      structure pointer passed in
     <em class="parameter">
      <code>
       addr
      </code>
     </em>
     in order to avoid compiler
      warnings. See EXAMPLE below.
    </p>
   </div>
   <div class="refsect1">
    <a id="bind-2_sect2" name="bind-2_sect2" shape="rect">
    </a>
    <h2>
     RETURN VALUE
    </h2>
    <p>
     On success, zero is returned. On error, &minus;1 is
      returned, and
     <code class="varname">
      errno
     </code>
     is set
      appropriately.
    </p>
   </div>
   <div class="refsect1">
    <a id="bind-2_sect3" name="bind-2_sect3" shape="rect">
    </a>
    <h2>
     ERRORS
    </h2>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        <span class="errorname">
         EACCES
        </span>
       </span>
      </dt>
      <dd>
       <p>
        The address is protected, and the user is not the
            superuser.
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         EADDRINUSE
        </span>
       </span>
      </dt>
      <dd>
       <p>
        The given address is already in use.
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         EADDRINUSE
        </span>
       </span>
      </dt>
      <dd>
       <p>
        (Internet domain sockets) The port number was
            specified as zero in the socket address structure, but,
            upon attempting to bind to an ephemeral port, it was
            determined that all port numbers in the ephemeral port
            range are currently in use. See the discussion of
        <code class="filename">
         /proc/sys/net/ipv4/ip_local_port_range
        </code>
        <a class="link" href="../htmlman7/ip.7.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           ip
          </span>
          (7)
         </span>
        </a>
        .
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         EBADF
        </span>
       </span>
      </dt>
      <dd>
       <p>
        <em class="parameter">
         <code>
          sockfd
         </code>
        </em>
        is
            not a valid descriptor.
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         EINVAL
        </span>
       </span>
      </dt>
      <dd>
       <p>
        The socket is already bound to an address.
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         EINVAL
        </span>
       </span>
      </dt>
      <dd>
       <p>
        <em class="parameter">
         <code>
          addrlen
         </code>
        </em>
        is
            wrong, or
        <em class="parameter">
         <code>
          addr
         </code>
        </em>
        is not a valid address for this socket's domain.
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         ENOTSOCK
        </span>
       </span>
      </dt>
      <dd>
       <p>
        <em class="parameter">
         <code>
          sockfd
         </code>
        </em>
        is a
            descriptor for a file, not a socket.
       </p>
      </dd>
     </dl>
    </div>
    <p>
     The following errors are specific to UNIX domain
      (
     <code class="constant">
      AF_UNIX
     </code>
     ) sockets:
    </p>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        <span class="errorname">
         EACCES
        </span>
       </span>
      </dt>
      <dd>
       <p>
        Search permission is denied on a component of the
            path prefix. (See also
        <a class="link" href="../htmlman7/path_resolution.7.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           path_resolution
          </span>
          (7)
         </span>
        </a>
        .)
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         EADDRNOTAVAIL
        </span>
       </span>
      </dt>
      <dd>
       <p>
        A nonexistent interface was requested or the
            requested address was not local.
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         EFAULT
        </span>
       </span>
      </dt>
      <dd>
       <p>
        <em class="parameter">
         <code>
          addr
         </code>
        </em>
        points
            outside the user's accessible address space.
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         ELOOP
        </span>
       </span>
      </dt>
      <dd>
       <p>
        Too many symbolic links were encountered in
            resolving
        <em class="parameter">
         <code>
          addr
         </code>
        </em>
        .
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         ENAMETOOLONG
        </span>
       </span>
      </dt>
      <dd>
       <p>
        <em class="parameter">
         <code>
          addr
         </code>
        </em>
        is too
            long.
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         ENOENT
        </span>
       </span>
      </dt>
      <dd>
       <p>
        The file does not exist.
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         ENOMEM
        </span>
       </span>
      </dt>
      <dd>
       <p>
        Insufficient kernel memory was available.
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         ENOTDIR
        </span>
       </span>
      </dt>
      <dd>
       <p>
        A component of the path prefix is not a
            directory.
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         EROFS
        </span>
       </span>
      </dt>
      <dd>
       <p>
        The socket inode would reside on a read-only
            filesystem.
       </p>
      </dd>
     </dl>
    </div>
   </div>
   <div class="refsect1">
    <a id="bind-2_sect4" name="bind-2_sect4" shape="rect">
    </a>
    <h2>
     CONFORMING TO
    </h2>
    <p>
     SVr4, 4.4BSD, POSIX.1-2001 (
     <code class="function">
      bind
     </code>
     () first appeared in 4.2BSD).
    </p>
   </div>
   <div class="refsect1">
    <a id="bind-2_sect5" name="bind-2_sect5" shape="rect">
    </a>
    <h2>
     NOTES
    </h2>
    <p>
     POSIX.1-2001 does not require the inclusion of
     <code class="literal">
      &lt;
     </code>
     <code class="filename">
      sys/types.h
     </code>
     <code class="literal">
      &gt;
     </code>
     and this header file is not required on
      Linux. However, some historical (BSD) implementations
      required this header file, and portable applications are
      probably wise to include it.
    </p>
    <p>
     The third argument of
     <code class="function">
      bind
     </code>
     ()
      is in reality an
     <span class="type">
      int
     </span>
     (and this is
      what 4.x BSD and libc4 and libc5 have). Some POSIX confusion
      resulted in the present
     <span class="type">
      socklen_t
     </span>
     ,
      also used by glibc. See also
     <a class="link" href="../htmlman2/accept.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        accept
       </span>
       (2)
      </span>
     </a>
     .
    </p>
   </div>
   <div class="refsect1">
    <a id="bind-2_sect6" name="bind-2_sect6" shape="rect">
    </a>
    <h2>
     BUGS
    </h2>
    <p>
     The transparent proxy options are not described.
    </p>
   </div>
   <div class="refsect1">
    <a id="bind-2_sect7" name="bind-2_sect7" shape="rect">
    </a>
    <h2>
     EXAMPLE
    </h2>
    <p>
     An example of the use of
     <code class="function">
      bind
     </code>
     () with Internet domain sockets can be
      found in
     <a class="link" href="../htmlman3/getaddrinfo.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        getaddrinfo
       </span>
       (3)
      </span>
     </a>
     .
    </p>
    <p>
     The following example shows how to bind a stream socket in
      the UNIX (
     <code class="constant">
      AF_UNIX
     </code>
     ) domain, and
      accept connections:
    </p>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">
#include &lt;sys/socket.h&gt;
#include &lt;sys/un.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

#define MY_SOCK_PATH "/somepath"
#define LISTEN_BACKLOG 50

#define handle_error(msg) \
    do { perror(msg); exit(EXIT_FAILURE); } while (0)

int
main(int argc, char *argv[])
{
    int sfd, cfd;
    struct sockaddr_un my_addr, peer_addr;
    socklen_t peer_addr_size;

    sfd = socket(AF_UNIX, SOCK_STREAM, 0);
    if (sfd == &minus;1)
        handle_error("socket");

    memset(&amp;my_addr, 0, sizeof(struct sockaddr_un));
                        /* Clear structure */
    my_addr.sun_family = AF_UNIX;
    strncpy(my_addr.sun_path, MY_SOCK_PATH,
            sizeof(my_addr.sun_path) &minus; 1);

    if (bind(sfd, (struct sockaddr *) &amp;my_addr,
            sizeof(struct sockaddr_un)) == &minus;1)
        handle_error("bind");

    if (listen(sfd, LISTEN_BACKLOG) == &minus;1)
        handle_error("listen");

    /* Now we can accept incoming connections one
       at a time using accept(2) */

    peer_addr_size = sizeof(struct sockaddr_un);
    cfd = accept(sfd, (struct sockaddr *) &amp;peer_addr,
                 &amp;peer_addr_size);
    if (cfd == &minus;1)
        handle_error("accept");

    /* Code to deal with incoming connection(s)... */

    /* When no longer required, the socket pathname, MY_SOCK_PATH
       should be deleted using unlink(2) or remove(3) */
}
</pre>
    </div>
   </div>
   <div class="refsect1">
    <a id="bind-2_sect8" name="bind-2_sect8" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <a class="link" href="../htmlman2/accept.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        accept
       </span>
       (2)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman2/connect.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        connect
       </span>
       (2)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman2/getsockname.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        getsockname
       </span>
       (2)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman2/listen.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        listen
       </span>
       (2)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman2/socket.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        socket
       </span>
       (2)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/getaddrinfo.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        getaddrinfo
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/getifaddrs.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        getifaddrs
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman7/ip.7.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        ip
       </span>
       (7)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman7/ipv6.7.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        ipv6
       </span>
       (7)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman7/path_resolution.7.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        path_resolution
       </span>
       (7)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman7/socket.7.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        socket
       </span>
       (7)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman7/unix.7.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        unix
       </span>
       (7)
      </span>
     </a>
    </p>
   </div>
   <div class="colophon">
    <a id="bind-2_sect9" name="bind-2_sect9" shape="rect">
    </a>
    <h2>
     COLOPHON
    </h2>
    <p>
     This page is part of release 3.72 of the Linux
     <em class="replaceable">
      <code>
       man-pages
      </code>
     </em>
     project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man&minus;pages/.
    </p>
   </div>
  </div>
 </body>
</html>

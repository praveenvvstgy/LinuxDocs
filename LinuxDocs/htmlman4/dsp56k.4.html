<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   dsp56k(4) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="dsp56k(4) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="dsp56k.4" name="dsp56k.4" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     dsp56k &mdash; DSP56001 interface device
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="funcsynopsis">
     <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;asm/dsp56k.h&gt;
</pre>
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         ssize_t
         <strong>
          read
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         fd
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        void *
        <var class="pdparam">
         data
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t
        <var class="pdparam">
         length
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         ssize_t
         <strong>
          write
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         fd
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        void *
        <var class="pdparam">
         data
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t
        <var class="pdparam">
         length
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ioctl
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         fd
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        <var class="pdparam">
         DSP56K_UPLOAD
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        struct dsp56k_upload *
        <var class="pdparam">
         program
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ioctl
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         fd
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        <var class="pdparam">
         DSP56K_SET_TX_WSIZE
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         wsize
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ioctl
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         fd
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        <var class="pdparam">
         DSP56K_SET_RX_WSIZE
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         wsize
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ioctl
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         fd
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        <var class="pdparam">
         DSP56K_HOST_FLAGS
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        struct dsp56k_host_flags *
        <var class="pdparam">
         flags
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ioctl
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         fd
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        <var class="pdparam">
         DSP56K_HOST_CMD
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         cmd
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
   </div>
   <div class="refsect1">
    <a id="dsp56k-4_sect1" name="dsp56k-4_sect1" shape="rect">
    </a>
    <h2>
     CONFIGURATION
    </h2>
    <p>
     The dsp56k device is a character device with major number
      55 and minor number 0.
    </p>
   </div>
   <div class="refsect1">
    <a id="dsp56k-4_sect2" name="dsp56k-4_sect2" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     The Motorola DSP56001 is a fully programmable 24-bit
      digital signal processor found in Atari Falcon030-compatible
      computers. The
     <code class="function">
      dsp56k
     </code>
     special
      file is used to control the DSP56001, and to send and receive
      data using the bidirectional handshaked host port.
    </p>
    <p>
     To send a data stream to the signal processor, use
     <a class="link" href="../htmlman2/write.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        write
       </span>
       (2)
      </span>
     </a>
     to the device, and
     <a class="link" href="../htmlman2/read.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        read
       </span>
       (2)
      </span>
     </a>
     to receive
      processed data. The data can be sent or received in 8, 16,
      24, or 32-bit quantities on the host side, but will always be
      seen as 24-bit quantities in the DSP56001.
    </p>
    <p>
     The following
     <a class="link" href="../htmlman2/ioctl.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        ioctl
       </span>
       (2)
      </span>
     </a>
     calls are used to
      control the
     <code class="function">
      dsp56k
     </code>
     device:
    </p>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        <em class="parameter">
         <code>
          DSP56K_UPLOAD
         </code>
        </em>
       </span>
      </dt>
      <dd>
       <p>
        resets the DSP56001 and uploads a program. The third
        <a class="link" href="../htmlman2/ioctl.2.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           ioctl
          </span>
          (2)
         </span>
        </a>
        argument
            must be a pointer to a
        <span class="emphasis">
         <em>
          struct dsp56k_binary
         </em>
        </span>
        with
            members
        <code class="function">
         bin
        </code>
        pointing to a
            DSP56001 binary program, and
        <code class="function">
         len
        </code>
        set to the length of the program,
            counted in 24-bit words.
       </p>
      </dd>
      <dt>
       <span class="term">
        <em class="parameter">
         <code>
          DSP56K_SET_TX_WSIZE
         </code>
        </em>
       </span>
      </dt>
      <dd>
       <p>
        sets the transmit word size. Allowed values are in
            the range 1 to 4, and is the number of bytes that will
            be sent at a time to the DSP56001. These data
            quantities will either be padded with zero bytes, or
            truncated to fit the native 24-bit data format of the
            DSP56001.
       </p>
      </dd>
      <dt>
       <span class="term">
        <em class="parameter">
         <code>
          DSP56K_SET_RX_WSIZE
         </code>
        </em>
       </span>
      </dt>
      <dd>
       <p>
        sets the receive word size. Allowed values are in
            the range 1 to 4, and is the number of bytes that will
            be received at a time from the DSP56001. These data
            quantities will either truncated, or padded with a null
            byte ('\0') to fit the native 24-bit data format of the
            DSP56001.
       </p>
      </dd>
      <dt>
       <span class="term">
        <em class="parameter">
         <code>
          DSP56K_HOST_FLAGS
         </code>
        </em>
       </span>
      </dt>
      <dd>
       <p>
        read and write the host flags. The host flags are
            four general-purpose bits that can be read by both the
            hosting computer and the DSP56001. Bits 0 and 1 can be
            written by the host, and bits 2 and 3 can be written by
            the DSP56001.
       </p>
       <p>
        To access the host flags, the third
        <a class="link" href="../htmlman2/ioctl.2.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           ioctl
          </span>
          (2)
         </span>
        </a>
        argument
            must be a pointer to a
        <span class="emphasis">
         <em>
          struct dsp56k_host_flags
         </em>
        </span>
        . If
            bit 0 or 1 is set in the
        <code class="function">
         dir
        </code>
        member, the corresponding bit in
        <code class="function">
         out
        </code>
        will be written to
            the host flags. The state of all host flags will be
            returned in the lower four bits of the
        <code class="function">
         status
        </code>
        member.
       </p>
      </dd>
      <dt>
       <span class="term">
        <em class="parameter">
         <code>
          DSP56K_HOST_CMD
         </code>
        </em>
       </span>
      </dt>
      <dd>
       <p>
        sends a host command. Allowed values are in the
            range 0 to 31, and is a user-defined command handled by
            the program running in the DSP56001.
       </p>
      </dd>
     </dl>
    </div>
   </div>
   <div class="refsect1">
    <a id="dsp56k-4_sect3" name="dsp56k-4_sect3" shape="rect">
    </a>
    <h2>
     FILES
    </h2>
    <p>
     /dev/dsp56k
    </p>
   </div>
   <div class="refsect1">
    <a id="dsp56k-4_sect4" name="dsp56k-4_sect4" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <code class="filename">
      linux/include/asm-m68k/dsp56k.h
     </code>
     ,
     <code class="filename">
      linux/drivers/char/dsp56k.c
     </code>
     ,
     <a class="literalurl" href="http://dsp56k.nocrew.org/" shape="rect" target="_top">
      http://dsp56k.nocrew.org/
     </a>
     DSP56000/DSP56001
      Digital Signal Processor User's Manual
    </p>
   </div>
   <div class="colophon">
    <a id="dsp56k-4_sect5" name="dsp56k-4_sect5" shape="rect">
    </a>
    <h2>
     COLOPHON
    </h2>
    <p>
     This page is part of release 3.72 of the Linux
     <em class="replaceable">
      <code>
       man-pages
      </code>
     </em>
     project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man&minus;pages/.
    </p>
   </div>
  </div>
 </body>
</html>

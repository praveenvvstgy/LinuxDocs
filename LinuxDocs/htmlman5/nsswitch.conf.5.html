<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   nsswitch.conf(5) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="nsswitch.conf(5) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="nsswitch.conf.5" name="nsswitch.conf.5" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     nsswitch.conf &mdash; Name Service Switch configuration
      file
    </p>
   </div>
   <div class="refsect1">
    <a id="nsswitch-conf-5_sect1" name="nsswitch-conf-5_sect1" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     The Name Service Switch (NSS) configuration file,
     <code class="filename">
      /etc/nsswitch.conf
     </code>
     , is used by
      the GNU C Library to determine the sources from which to
      obtain name-service information in a range of categories, and
      in what order. Each category of information is identified by
      a database name.
    </p>
    <p>
     The file is plain ASCII text, with columns separated by
      spaces or tab characters. The first column specifies the
      database name. The remaining columns describe the order of
      sources to query and a limited set of actions that can be
      performed by lookup result.
    </p>
    <p>
     The following databases are understood by the GNU C
      Library:
    </p>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        aliases
       </span>
      </dt>
      <dd>
       <p>
        Mail aliases, used by
        <a class="link" href="../htmlman3/setaliasent.3.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           getaliasent
          </span>
          (3)
         </span>
        </a>
        and
            related functions.
       </p>
      </dd>
      <dt>
       <span class="term">
        ethers
       </span>
      </dt>
      <dd>
       <p>
        Ethernet numbers.
       </p>
      </dd>
      <dt>
       <span class="term">
        group
       </span>
      </dt>
      <dd>
       <p>
        Groups of users, used by
        <a class="link" href="../htmlman3/getgrent.3.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           getgrent
          </span>
          (3)
         </span>
        </a>
        and
            related functions.
       </p>
      </dd>
      <dt>
       <span class="term">
        hosts
       </span>
      </dt>
      <dd>
       <p>
        Host names and numbers, used by
        <a class="link" href="../htmlman3/gethostbyname.3.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           gethostbyname
          </span>
          (3)
         </span>
        </a>
        and
            related functions.
       </p>
      </dd>
      <dt>
       <span class="term">
        initgroups
       </span>
      </dt>
      <dd>
       <p>
        Supplementary group access list, used by
        <a class="link" href="../htmlman3/getgrouplist.3.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           getgrouplist
          </span>
          (3)
         </span>
        </a>
        function.
       </p>
      </dd>
      <dt>
       <span class="term">
        netgroup
       </span>
      </dt>
      <dd>
       <p>
        Network-wide list of hosts and users, used for
            access rules. C libraries before glibc 2.1 supported
            netgroups only over NIS.
       </p>
      </dd>
      <dt>
       <span class="term">
        networks
       </span>
      </dt>
      <dd>
       <p>
        Network names and numbers, used by
        <a class="link" href="../htmlman3/getnetent.3.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           getnetent
          </span>
          (3)
         </span>
        </a>
        and
            related functions.
       </p>
      </dd>
      <dt>
       <span class="term">
        passwd
       </span>
      </dt>
      <dd>
       <p>
        User passwords, used by
        <a class="link" href="../htmlman3/getpwent.3.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           getpwent
          </span>
          (3)
         </span>
        </a>
        and
            related functions.
       </p>
      </dd>
      <dt>
       <span class="term">
        protocols
       </span>
      </dt>
      <dd>
       <p>
        Network protocols, used by
        <a class="link" href="../htmlman3/getprotoent.3.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           getprotoent
          </span>
          (3)
         </span>
        </a>
        and
            related functions.
       </p>
      </dd>
      <dt>
       <span class="term">
        publickey
       </span>
      </dt>
      <dd>
       <p>
        Public and secret keys for Secure_RPC used by NFS
            and NIS+.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="literal">
         rpc
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Remote procedure call names and numbers, used by
        <a class="link" href="../htmlman3/getrpcent.3.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           getrpcbyname
          </span>
          (3)
         </span>
        </a>
        and
            related functions.
       </p>
      </dd>
      <dt>
       <span class="term">
        services
       </span>
      </dt>
      <dd>
       <p>
        Network services, used by
        <a class="link" href="../htmlman3/getservent.3.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           getservent
          </span>
          (3)
         </span>
        </a>
        and
            related functions.
       </p>
      </dd>
      <dt>
       <span class="term">
        shadow
       </span>
      </dt>
      <dd>
       <p>
        Shadow user passwords, used by
        <a class="link" href="../htmlman3/getspnam.3.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           getspnam
          </span>
          (3)
         </span>
        </a>
        and
            related functions.
       </p>
      </dd>
     </dl>
    </div>
    <p>
     Here is an example
     <code class="filename">
      /etc/nsswitch.conf
     </code>
     file:
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <div class="informalexample">
       <pre class="programlisting" xml:space="preserve">
passwd:          compat
group:           compat
shadow:          compat

hosts:           dns [!UNAVAIL=return] files
networks:        nis [NOTFOUND=return] files
ethers:          nis [NOTFOUND=return] files
protocols:       nis [NOTFOUND=return] files
rpc:             nis [NOTFOUND=return] files
services:        nis [NOTFOUND=return] files
</pre>
      </div>
     </blockquote>
    </div>
    <p>
     The first column is the database name. The remaining
      columns specify:
    </p>
    <div class="itemizedlist">
     <ul class="itemizedlist" style="list-style-type: disc;">
      <li class="listitem">
       <p>
        One or more service specifications, for example,
            "files", "db", or "nis". The order of the services on
            the line determines the order in which those services
            will be queried, in turn, until a result is found.
       </p>
      </li>
      <li class="listitem">
       <p>
        Optional actions to perform if a particular result
            is obtained from the preceding service, for example,
            "[NOTFOUND=return]".
       </p>
      </li>
     </ul>
    </div>
    <p>
     The service specifications supported on your system depend
      on the presence of shared libraries, and are therefore
      extensible. Libraries called
     <code class="filename">
      /lib/libnss_SERVICE.so.
      <code class="constant">
       X
      </code>
     </code>
     will provide the named
     <code class="constant">
      SERVICE
     </code>
     . On a standard
      installation, you can use "files", "db", "nis", and
      "nisplus". For the
     <em class="replaceable">
      <code>
       hosts
      </code>
     </em>
     database, you can
      additionally specify "dns". For the
     <em class="replaceable">
      <code>
       passwd
      </code>
     </em>
     ,
     <em class="replaceable">
      <code>
       group
      </code>
     </em>
     , and
     <em class="replaceable">
      <code>
       shadow
      </code>
     </em>
     databases, you can
      additionally specify "compat" (see
     <span class="emphasis">
      <em>
       Compatibility mode
      </em>
     </span>
     below). The
      version number
     <code class="constant">
      X
     </code>
     may be 1 for
      glibc 2.0, or 2 for glibc 2.1 and later. On systems with
      additional libraries installed, you may have access to
      further services such as "hesiod", "ldap", "winbind" and
      "wins".
    </p>
    <p>
     An action may also be specified following a service
      specification. The action modifies the behavior following a
      result obtained from the preceding data source. Action items
      take the general form:
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <p>
       [
       <code class="constant">
        STATUS
       </code>
       =
       <code class="constant">
        ACTION
       </code>
       ]
      </p>
      <p>
       [!
       <code class="constant">
        STATUS
       </code>
       =
       <code class="constant">
        ACTION
       </code>
       ]
      </p>
     </blockquote>
    </div>
    <p>
     where
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <p>
       <code class="constant">
        STATUS
       </code>
       =&gt;
       <em class="replaceable">
        <code>
         success
        </code>
       </em>
       |
       <em class="replaceable">
        <code>
         notfound
        </code>
       </em>
       |
       <em class="replaceable">
        <code>
         unavail
        </code>
       </em>
       |
       <em class="replaceable">
        <code>
         tryagain
        </code>
       </em>
      </p>
      <p>
       <code class="constant">
        ACTION
       </code>
       =&gt;
       <em class="replaceable">
        <code>
         return
        </code>
       </em>
       |
       <em class="replaceable">
        <code>
         continue
        </code>
       </em>
      </p>
     </blockquote>
    </div>
    <p>
     The ! negates the test, matching all possible results
      except the one specified. The case of the keywords is not
      significant.
    </p>
    <p>
     The
     <code class="constant">
      STATUS
     </code>
     value is matched
      against the result of the lookup function called by the
      preceding service specification, and can be one of:
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <div class="variablelist">
       <dl class="variablelist">
        <dt>
         <span class="term">
          success
         </span>
        </dt>
        <dd>
         <p>
          No error occurred and the requested entry is
                returned. The default action for this condition is
                "return".
         </p>
        </dd>
        <dt>
         <span class="term">
          notfound
         </span>
        </dt>
        <dd>
         <p>
          The lookup succeeded, but the requested entry
                was not found. The default action for this
                condition is "continue".
         </p>
        </dd>
        <dt>
         <span class="term">
          unavail
         </span>
        </dt>
        <dd>
         <p>
          The service is permanently unavailable. This can
                mean either that the required file cannot be read,
                or, for network services, that the server is not
                available or does not allow queries. The default
                action for this condition is "continue".
         </p>
        </dd>
        <dt>
         <span class="term">
          tryagain
         </span>
        </dt>
        <dd>
         <p>
          The service is temporarily unavailable. This
                could mean a file is locked or a server currently
                cannot accept more connections. The default action
                for this condition is "continue".
         </p>
        </dd>
       </dl>
      </div>
     </blockquote>
    </div>
    <p>
     The
     <code class="constant">
      ACTION
     </code>
     value can be one
      of:
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <div class="variablelist">
       <dl class="variablelist">
        <dt>
         <span class="term">
          return
         </span>
        </dt>
        <dd>
         <p>
          Return a result now. Do not call any further
                lookup functions. However, for compatibility
                reasons, if this is the selected action for the
          <em class="replaceable">
           <code>
            group
           </code>
          </em>
          database and the
          <em class="replaceable">
           <code>
            notfound
           </code>
          </em>
          status,
                and the configuration file does not contain the
          <em class="replaceable">
           <code>
            initgroups
           </code>
          </em>
          line,
                the next lookup function is always called, without
                affecting the search result.
         </p>
        </dd>
        <dt>
         <span class="term">
          continue
         </span>
        </dt>
        <dd>
         <p>
          Call the next lookup function.
         </p>
        </dd>
       </dl>
      </div>
     </blockquote>
    </div>
    <div class="refsect2">
     <a id="nsswitch-conf-5_sect2" name="nsswitch-conf-5_sect2" shape="rect">
     </a>
     <h3>
      Compatibility mode (compat)
     </h3>
     <p>
      The NSS "compat" service is similar to "files" except
        that it additionally permits special entries in
      <code class="filename">
       /etc/passwd
      </code>
      for granting
        users or members of netgroups access to the system. The
        following entries are valid in this mode:
     </p>
     <div class="blockquote">
      <blockquote class="blockquote">
       <div class="variablelist">
        <dl class="variablelist">
         <dt>
          <span class="term">
           +
           <em class="replaceable">
            <code>
             user
            </code>
           </em>
          </span>
         </dt>
         <dd>
          <p>
           Include the specified
           <em class="replaceable">
            <code>
             user
            </code>
           </em>
           from the NIS
                  passwd map.
          </p>
         </dd>
         <dt>
          <span class="term">
           +@
           <em class="replaceable">
            <code>
             netgroup
            </code>
           </em>
          </span>
         </dt>
         <dd>
          <p>
           Include all users in the given
           <em class="replaceable">
            <code>
             netgroup
            </code>
           </em>
           .
          </p>
         </dd>
         <dt>
          <span class="term">
           <code class="option">
            &minus;user
           </code>
          </span>
         </dt>
         <dd>
          <p>
           Exclude the specified
           <em class="replaceable">
            <code>
             user
            </code>
           </em>
           from the NIS
                  passwd map.
          </p>
         </dd>
         <dt>
          <span class="term">
           <code class="option">
            &minus;@netgroup
           </code>
          </span>
         </dt>
         <dd>
          <p>
           Exclude all users in the given
           <em class="replaceable">
            <code>
             netgroup
            </code>
           </em>
           .
          </p>
         </dd>
         <dt>
          <span class="term">
           <code class="literal">
            +
           </code>
          </span>
         </dt>
         <dd>
          <p>
           Include every user, except previously excluded
                  ones, from the NIS passwd map.
          </p>
         </dd>
        </dl>
       </div>
      </blockquote>
     </div>
     <p>
      By default the source is "nis", but this may be
        overridden by specifying "nisplus" as the source for the
        pseudo-databases
      <em class="replaceable">
       <code>
        passwd_compat
       </code>
      </em>
      ,
      <em class="replaceable">
       <code>
        group_compat
       </code>
      </em>
      , and
      <em class="replaceable">
       <code>
        shadow_compat
       </code>
      </em>
      .
     </p>
    </div>
   </div>
   <div class="refsect1">
    <a id="nsswitch-conf-5_sect3" name="nsswitch-conf-5_sect3" shape="rect">
    </a>
    <h2>
     FILES
    </h2>
    <p>
     A service named
     <code class="constant">
      SERVICE
     </code>
     is
      implemented by a shared object library named
     <em class="replaceable">
      <code>
       libnss_SERVICE.so.
      </code>
     </em>
     X that
      resides in
     <code class="filename">
      /lib
     </code>
     .
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <div class="variablelist">
       <dl class="variablelist">
        <dt>
         <span class="term">
          <code class="filename">
           /etc/nsswitch.conf
          </code>
         </span>
        </dt>
        <dd>
         <p>
          NSS configuration file.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="filename">
           /lib/libnss_compat.so.X
          </code>
         </span>
        </dt>
        <dd>
         <p>
          implements "compat" source.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="filename">
           /lib/libnss_db.so.X
          </code>
         </span>
        </dt>
        <dd>
         <p>
          implements "db" source.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="filename">
           /lib/libnss_dns.so.X
          </code>
         </span>
        </dt>
        <dd>
         <p>
          implements "dns" source.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="filename">
           /lib/libnss_files.so.X
          </code>
         </span>
        </dt>
        <dd>
         <p>
          implements "files" source.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="filename">
           /lib/libnss_hesiod.so.X
          </code>
         </span>
        </dt>
        <dd>
         <p>
          implements "hesiod" source.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="filename">
           /lib/libnss_nis.so.X
          </code>
         </span>
        </dt>
        <dd>
         <p>
          implements "nis" source.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="filename">
           /lib/libnss_nisplus.so.X
          </code>
         </span>
        </dt>
        <dd>
         <p>
          implements "nisplus" source.
         </p>
        </dd>
       </dl>
      </div>
     </blockquote>
    </div>
   </div>
   <div class="refsect1">
    <a id="nsswitch-conf-5_sect4" name="nsswitch-conf-5_sect4" shape="rect">
    </a>
    <h2>
     NOTES
    </h2>
    <p>
     Within each process that uses
     <em class="replaceable">
      <code>
       nsswitch.conf
      </code>
     </em>
     , the entire
      file is read only once. If the file is later changed, the
      process will continue using the old configuration.
    </p>
    <p>
     Traditionally, there was only a single source for service
      information, often in the form of a single configuration file
      (e.g.,
     <code class="filename">
      /etc/passwd
     </code>
     ). However,
      as other name services, such as the Network Information
      Service (NIS) and the Domain Name Service (DNS), became
      popular, a method was needed that would be more flexible than
      fixed search orders coded into the C library. The Name
      Service Switch mechanism, which was based on the mechanism
      used by Sun Microsystems in the Solaris 2 C library,
      introduced a cleaner solution to the problem.
    </p>
   </div>
   <div class="refsect1">
    <a id="nsswitch-conf-5_sect5" name="nsswitch-conf-5_sect5" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <span class="citerefentry">
      <span class="refentrytitle">
       getent
      </span>
      (1)
     </span>
     ,
     <a class="link" href="../htmlman5/nss.5.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        nss
       </span>
       (5)
      </span>
     </a>
    </p>
   </div>
   <div class="colophon">
    <a id="nsswitch-conf-5_sect6" name="nsswitch-conf-5_sect6" shape="rect">
    </a>
    <h2>
     COLOPHON
    </h2>
    <p>
     This page is part of release 3.72 of the Linux
     <em class="replaceable">
      <code>
       man-pages
      </code>
     </em>
     project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man&minus;pages/.
    </p>
   </div>
  </div>
 </body>
</html>

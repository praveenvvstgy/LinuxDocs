<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   slapo-syncprov(5) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="slapo-syncprov(5) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="slapo-syncprov.5" name="slapo-syncprov.5" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     slapo&minus;syncprov &mdash; Sync Provider overlay to
      slapd
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">
ETCDIR/slapd.conf
  
</pre>
    </div>
   </div>
   <div class="refsect1">
    <a id="slapo-syncprov-5_sect1" name="slapo-syncprov-5_sect1" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     The Sync Provider overlay implements the provider-side
      support for the LDAP Content Synchronization (RFC4533) as
      well as syncrepl replication support. The overlay can be used
      with any backend that maintains entryCSN and entryUUID
      attributes for its entries. It also creates a contextCSN
      attribute in the root entry of the database.
    </p>
    <p>
     The contextCSN is updated for every write operation
      performed against the database. To reduce database
      contention, the contextCSN is only updated in memory. The
      value is written to the database on server shutdown and read
      into memory on startup, and maintained in memory thereafter.
      Checkpoints may be configured to write the contextCSN into
      the underlying database to minimize recovery time after an
      unclean shutdown.
    </p>
    <p>
     On databases that support inequality indexing, it is
      helpful to set an eq index on the entryCSN attribute when
      using this overlay.
    </p>
   </div>
   <div class="refsect1">
    <a id="slapo-syncprov-5_sect2" name="slapo-syncprov-5_sect2" shape="rect">
    </a>
    <h2>
     CONFIGURATION
    </h2>
    <p>
     These
     <em class="replaceable">
      <code>
       slapd.conf
      </code>
     </em>
     options apply to the Sync Provider overlay. They should
      appear after the
     <em class="replaceable">
      <code>
       overlay
      </code>
     </em>
     directive.
    </p>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        <span class="emphasis">
         <em>
          syncprov&minus;checkpoint &lt;ops&gt;
          &lt;minutes&gt;
         </em>
        </span>
       </span>
      </dt>
      <dd>
       <p>
        After a write operation has succeeded, write the
            contextCSN to the underlying database if
        <em class="replaceable">
         <code>
          &lt;ops&gt;
         </code>
        </em>
        write
            operations or more than
        <em class="replaceable">
         <code>
          &lt;minutes&gt;
         </code>
        </em>
        time
            have passed since the last checkpoint. Checkpointing is
            disabled by default.
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="emphasis">
         <em>
          syncprov&minus;sessionlog
          &lt;ops&gt;
         </em>
        </span>
       </span>
      </dt>
      <dd>
       <p>
        Configures an in-memory session log for recording
            information about write operations made on the
            database. The
        <em class="replaceable">
         <code>
          &lt;ops&gt;
         </code>
        </em>
        specifies
            the number of operations that are recorded in the log.
            All write operations (except Adds) are recorded in the
            log. When using the session log, it is helpful to set
            an eq index on the entryUUID attribute in the
            underlying database.
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="emphasis">
         <em>
          syncprov&minus;nopresent TRUE |
          FALSE
         </em>
        </span>
       </span>
      </dt>
      <dd>
       <p>
        Specify that the Present phase of refreshing should
            be skipped. This value should only be set TRUE for a
            syncprov instance on top of a log database (such as one
            managed by the accesslog overlay). The default is
            FALSE.
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="emphasis">
         <em>
          syncprov&minus;reloadhint TRUE |
          FALSE
         </em>
        </span>
       </span>
      </dt>
      <dd>
       <p>
        Specify that the overlay should honor the reloadHint
            flag in the Sync Control. In OpenLDAP releases 2.3.11
            and earlier the syncrepl consumer did not properly set
            this flag, so the overlay must ignore it. This option
            should be set TRUE when working with newer releases
            that properly support this flag. It must be set TRUE
            when using the accesslog overlay for delta-based
            syncrepl replication support. The default is FALSE.
       </p>
      </dd>
     </dl>
    </div>
   </div>
   <div class="refsect1">
    <a id="slapo-syncprov-5_sect3" name="slapo-syncprov-5_sect3" shape="rect">
    </a>
    <h2>
     FILES
    </h2>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        ETCDIR/slapd.conf
       </span>
      </dt>
      <dd>
       <p>
        default slapd configuration file
       </p>
      </dd>
     </dl>
    </div>
   </div>
   <div class="refsect1">
    <a id="slapo-syncprov-5_sect4" name="slapo-syncprov-5_sect4" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <a class="link" href="../htmlman5/slapd.conf.5.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        slapd.conf
       </span>
       (5)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman5/slapd-config.5.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        slapd-config
       </span>
       (5)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman5/slapo-accesslog.5.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        slapo-accesslog
       </span>
       (5)
      </span>
     </a>
     .
      OpenLDAP Administrator's Guide.
    </p>
   </div>
   <div class="refsect1">
    <a id="slapo-syncprov-5_sect5" name="slapo-syncprov-5_sect5" shape="rect">
    </a>
    <h2>
     ACKNOWLEDGEMENTS
    </h2>
    <p>
     <span class="emphasis">
      <em>
       OpenLDAP Software
      </em>
     </span>
     is developed and maintained by The OpenLDAP Project
      &lt;
     <a class="literalurl" href="http://www.openldap.org/" shape="rect" target="_top">
      http://www.openldap.org/
     </a>
     &gt;.
     <span class="emphasis">
      <em>
       OpenLDAP Software
      </em>
     </span>
     is derived from
      University of Michigan LDAP 3.3 Release.
    </p>
   </div>
  </div>
 </body>
</html>

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   fsck(8) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="fsck(8) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="fsck.minix.8" name="fsck.minix.8" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     fsck.minix &mdash; check consistency of Minix
      filesystem
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="cmdsynopsis">
     <p>
      <code class="command">
       fsck.minix
      </code>
      [
      <code class="option">
       &minus;larvsmf
      </code>
      ] device
     </p>
    </div>
   </div>
   <div class="refsect1">
    <a id="fsck-minix-8_sect1" name="fsck-minix-8_sect1" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     <span class="command">
      <strong>
       fsck.minix
      </strong>
     </span>
     performs a consistency check for the Linux MINIX filesystem.
      The current version supports the 14 character and 30
      character filename options.
    </p>
    <p>
     The program assumes the filesystem is quiescent.
     <span class="command">
      <strong>
       fsck.minix
      </strong>
     </span>
     should not be used on a mounted device unless you can be sure
      nobody is writing to it (and remember that the kernel can
      write to it when it searches for files).
    </p>
    <p>
     The
     <em class="parameter">
      <code>
       device
      </code>
     </em>
     name
      will usually have the following form:
    </p>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">
        /dev/hda[1-63] (IDE disk 1)
        /dev/hdb[1-63] (IDE disk 2)
        /dev/sda[1-15] (SCSI disk 1)
        /dev/sdb[1-15] (SCSI disk 2)
</pre>
    </div>
    <p>
     If the filesystem was changed (i.e., repaired), then
     <span class="command">
      <strong>
       fsck.minix
      </strong>
     </span>
     will
      print "FILE SYSTEM HAS CHANGED" and will
     <a class="link" href="../htmlman2/sync.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        sync
       </span>
       (2)
      </span>
     </a>
     three times before
      exiting. Since Linux does not currently have raw devices,
      there is
     <span class="emphasis">
      <em>
       no
      </em>
     </span>
     need to
      reboot at this time.
    </p>
   </div>
   <div class="refsect1">
    <a id="fsck-minix-8_sect2" name="fsck-minix-8_sect2" shape="rect">
    </a>
    <h2>
     WARNING
    </h2>
    <p>
     <span class="command">
      <strong>
       fsck.minix
      </strong>
     </span>
     should not be used on a mounted filesystem. Using
     <span class="command">
      <strong>
       fsck.minix
      </strong>
     </span>
     on a
      mounted filesystem is very dangerous, due to the possibility
      that deleted files are still in use, and can seriously damage
      a perfectly good filesystem! If you absolutely have to run
     <span class="command">
      <strong>
       fsck.minix
      </strong>
     </span>
     on a
      mounted filesystem (i.e., the root filesystem), make sure
      nothing is writing to the disk, and that no files are
      "zombies" waiting for deletion.
    </p>
   </div>
   <div class="refsect1">
    <a id="fsck-minix-8_sect3" name="fsck-minix-8_sect3" shape="rect">
    </a>
    <h2>
     OPTIONS
    </h2>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        <code class="option">
         &minus;l
        </code>
       </span>
      </dt>
      <dd>
       <p>
        List all filenames.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="option">
         &minus;r
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Perform interactive repairs.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="option">
         &minus;a
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Perform automatic repairs. (This option implies
        <code class="option">
         &minus;r
        </code>
        and serves to
            answer all of the questions asked with the default.)
            Note that this can be extremely dangerous in the case
            of extensive filesystem damage.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="option">
         &minus;v
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Be verbose.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="option">
         &minus;s
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Output super-block information.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="option">
         &minus;m
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Activate MINIX-like "mode not cleared" warnings.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="option">
         &minus;f
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Force a filesystem check even if the filesystem was
            marked as valid (this marking is done by the kernel
            when the filesystem is unmounted).
       </p>
      </dd>
     </dl>
    </div>
   </div>
   <div class="refsect1">
    <a id="fsck-minix-8_sect4" name="fsck-minix-8_sect4" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <a class="link" href="../htmlman8/fsck.8.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        fsck
       </span>
       (8)
      </span>
     </a>
     ,
     <span class="citerefentry">
      <span class="refentrytitle">
       fsck.ext2
      </span>
      (8)
     </span>
     ,
     <a class="link" href="../htmlman8/mkfs.8.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        mkfs
       </span>
       (8)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman8/mkfs.minix.8.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        mkfs.minix
       </span>
       (8)
      </span>
     </a>
     ,
     <span class="citerefentry">
      <span class="refentrytitle">
       mkfs.ext2
      </span>
      (8)
     </span>
     ,
     <span class="citerefentry">
      <span class="refentrytitle">
       reboot
      </span>
      (8)
     </span>
    </p>
   </div>
   <div class="refsect1">
    <a id="fsck-minix-8_sect5" name="fsck-minix-8_sect5" shape="rect">
    </a>
    <h2>
     DIAGNOSTICS
    </h2>
    <p>
     There are numerous diagnostic messages. The ones mentioned
      here are the most commonly seen in normal usage.
    </p>
    <p>
     If the device does not exist,
     <span class="command">
      <strong>
       fsck.minix
      </strong>
     </span>
     will print
      "unable to read super block". If the device exists, but is
      not a MINIX filesystem,
     <span class="command">
      <strong>
       fsck.minix
      </strong>
     </span>
     will print "bad
      magic number in super-block".
    </p>
   </div>
   <div class="refsect1">
    <a id="fsck-minix-8_sect6" name="fsck-minix-8_sect6" shape="rect">
    </a>
    <h2>
     EXIT CODES
    </h2>
    <p>
     The exit code returned by
     <span class="command">
      <strong>
       fsck.minix
      </strong>
     </span>
     is the sum of
      the following:
    </p>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        <code class="constant">
         0
        </code>
       </span>
      </dt>
      <dd>
       <p>
        No errors
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         3
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Filesystem errors corrected, system should be
            rebooted if filesystem was mounted
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         4
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Filesystem errors left uncorrected
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         7
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Combination of exit codes 3 and 4
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         8
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Operational error
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         16
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Usage or syntax error
       </p>
      </dd>
     </dl>
    </div>
    <p>
     In point of fact, only 0, 3, 4, 7, 8, and 16 can ever be
      returned.
    </p>
   </div>
   <div class="refsect1">
    <a id="fsck-minix-8_sect7" name="fsck-minix-8_sect7" shape="rect">
    </a>
    <h2>
     AUTHOR
    </h2>
    <p>
     Linus Torvalds (torvalds@cs.helsinki.fi)
    </p>
    <p>
     Error code values by Rik Faith (faith@cs.unc.edu)
    </p>
    <p>
     Added support for filesystem valid flag: Dr. Wettstein
      (greg%wind.uucp@plains.nodak.edu)
    </p>
    <p>
     Check to prevent fsck of mounted filesystem added by
      Daniel Quinlan (quinlan@yggdrasil.com)
    </p>
    <p>
     Minix v2 fs support by Andreas Schwab
      (schwab@issan.informatik.uni-dortmund.de), updated by Nicolai
      Langfeldt (janl@math.uio.no)
    </p>
    <p>
     Portability patch by Russell King
      (rmk@ecs.soton.ac.uk).
    </p>
   </div>
   <div class="refsect1">
    <a id="fsck-minix-8_sect8" name="fsck-minix-8_sect8" shape="rect">
    </a>
    <h2>
     AVAILABILITY
    </h2>
    <p>
     The fsck.minix command is part of the util-linux package
      and is available from
      ftp://ftp.kernel.org/pub/linux/utils/util-linux/.
    </p>
   </div>
  </div>
 </body>
</html>

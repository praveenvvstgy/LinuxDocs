<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   fdisk(8) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="fdisk(8) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="fdisk.8" name="fdisk.8" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     fdisk &mdash; manipulate disk partition table
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="cmdsynopsis">
     <p>
      <code class="command">
       fdisk
      </code>
      [options] device
     </p>
    </div>
    <div class="cmdsynopsis">
     <p>
      <code class="command">
       fdisk
      </code>
      <code class="option">
       &minus;l
      </code>
      [ device... ]
     </p>
    </div>
   </div>
   <div class="refsect1">
    <a id="fdisk-8_sect1" name="fdisk-8_sect1" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     <span class="command">
      <strong>
       fdisk
      </strong>
     </span>
     is a
      dialog-driven program for creation and manipulation of
      partition tables. It understands GPT, MBR, Sun, SGI and BSD
      partition tables.
    </p>
    <p>
     Block devices can be divided into one or more logical
      disks called
     <span class="quote">
      &ldquo;
      <span class="quote">
       partitions
      </span>
      &rdquo;
     </span>
     . This division is
      recorded in the
     <span class="emphasis">
      <em>
       partition
      table
      </em>
     </span>
     , usually found in sector 0 of the disk. (In
      the BSD world one talks about `disk slices' and a
      `disklabel'.)
    </p>
    <p>
     All partitioning is driven by device I/O limits (the
      topology) by default.
     <span class="command">
      <strong>
       fdisk
      </strong>
     </span>
     is able to optimize
      the disk layout for a 4K-sector size and use an alignment
      offset on modern devices for MBR and GPT. It is always a good
      idea to follow
     <span class="command">
      <strong>
       fdisk
      </strong>
     </span>
     's defaults as the
      default values (e.g. first and last partition sectors) and
      partition sizes specified by the +&lt;size&gt;{M,G,...}
      notation are always aligned according to the device
      properties.
    </p>
    <p>
     Note that
     <a class="link" href="../htmlman8/partx.8.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        partx
       </span>
       (8)
      </span>
     </a>
     provides a rich
      interface for scripts to print disk layouts,
     <span class="command">
      <strong>
       fdisk
      </strong>
     </span>
     is mostly designed
      for humans. Backward compatibility in the output of
     <span class="command">
      <strong>
       fdisk
      </strong>
     </span>
     is not
      guaranteed. The input (the commands) should always be
      backward compatible.
    </p>
   </div>
   <div class="refsect1">
    <a id="fdisk-8_sect2" name="fdisk-8_sect2" shape="rect">
    </a>
    <h2>
     OPTIONS
    </h2>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        <code class="option">
         &minus;b
          sectorsize
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Specify the sector size of the disk. Valid values
            are 512, 1024, 2048, and 4096. (Recent kernels know the
            sector size. Use this option only on old kernels or to
            override the kernel's ideas.) Since util-linux-2.17,
        <span class="command">
         <strong>
          fdisk
         </strong>
        </span>
        differentiates between logical and physical sector
            size. This option changes both sector sizes to
        <span class="command">
         <strong>
          sectorsize
         </strong>
        </span>
        .
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="option">
         &minus;c[=
         <em class="parameter">
          <code>
           mode
          </code>
         </em>
         ]
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Specify the compatibility mode, 'dos' or 'nondos'.
            The default is non-DOS mode. For backward
            compatibility, it is possible to use the option without
            the
        <span class="command">
         <strong>
          mode
         </strong>
        </span>
        argument -- then the default is used. Note that the
            optional
        <span class="command">
         <strong>
          mode
         </strong>
        </span>
        argument cannot
            be separated from the
        <code class="option">
         &minus;c
        </code>
        option by a space, the correct
            form is for example '-c=dos'. This option is
            DEPRECATED.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="option">
         &minus;C
          cylinders
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Specify the number of cylinders of the disk. I have
            no idea why anybody would want to do so. This option is
            DEPRECATED.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="option">
         &minus;H
          heads
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Specify the number of heads of the disk. (Not the
            physical number, of course, but the number used for
            partition tables.) Reasonable values are 255 and 16.
            This option is DEPRECATED.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="option">
         &minus;S
          sectors
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Specify the number of sectors per track of the disk.
            (Not the physical number, of course, but the number
            used for partition tables.) A reasonable value is 63.
            This option is DEPRECATED.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="option">
         &minus;h
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Display a help text and exit.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="option">
         &minus;L[=
         <em class="parameter">
          <code>
           when
          </code>
         </em>
         ]
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Colorize the output in interactive mode. The
            optional argument
        <span class="command">
         <strong>
          when
         </strong>
        </span>
        can be
        <span class="command">
         <strong>
          auto
         </strong>
        </span>
        ,
        <span class="command">
         <strong>
          never
         </strong>
        </span>
        or
        <span class="command">
         <strong>
          always
         </strong>
        </span>
        .
            The default is
        <span class="command">
         <strong>
          auto
         </strong>
        </span>
        .
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="option">
         &minus;l
        </code>
       </span>
      </dt>
      <dd>
       <p>
        List the partition tables for the specified devices
            and then exit. If no devices are given, those mentioned
            in
        <code class="filename">
         /proc/partitions
        </code>
        (if
            that file exists) are used.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="option">
         &minus;s
          partition...
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Print the size (in blocks) of each given partition.
            This option is DEPRECATED in favour of
        <span class="citerefentry">
         <span class="refentrytitle">
          blockdev
         </span>
         (1)
        </span>
        .
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="option">
         &minus;t
          type
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Enable support only for disklabels of the specified
        <span class="command">
         <strong>
          type
         </strong>
        </span>
        , and
            disable support for all other types. This is necessary
            for example to access a protective or hybrid MBR on
            devices with GPT.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="option">
         &minus;u[=
         <em class="parameter">
          <code>
           unit
          </code>
         </em>
         ]
        </code>
       </span>
      </dt>
      <dd>
       <p>
        When listing partition tables, show sizes in
            'sectors' or in 'cylinders'. The default is to show
            sizes in sectors. For backward compatibility, it is
            possible to use the option without the
        <span class="command">
         <strong>
          unit
         </strong>
        </span>
        argument -- then
            the default is used. Note that the optional
        <span class="command">
         <strong>
          unit
         </strong>
        </span>
        argument cannot be separated from the
        <code class="option">
         &minus;u
        </code>
        option by a space, the correct
            form is for example '-u=cylinders'.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="option">
         &minus;v
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Display version information and exit.
       </p>
      </dd>
     </dl>
    </div>
   </div>
   <div class="refsect1">
    <a id="fdisk-8_sect3" name="fdisk-8_sect3" shape="rect">
    </a>
    <h2>
     DEVICES
    </h2>
    <p>
     The
     <em class="parameter">
      <code>
       device
      </code>
     </em>
     is
      usually /dev/sda, /dev/sdb or so. A device name refers to the
      entire disk. Old systems without libata (a library used
      inside the Linux kernel to support ATA host controllers and
      devices) make a difference between IDE and SCSI disks. In
      such cases the device name will be /dev/hd* (IDE) or /dev/sd*
      (SCSI).
    </p>
    <p>
     The
     <span class="command">
      <strong>
       partition
      </strong>
     </span>
     is a device name
      followed by a partition number. For example, /dev/sda1 is the
      first partition on the first hard disk in the system. See
      also Linux kernel documentation (the
      Documentation/devices.txt file).
    </p>
   </div>
   <div class="refsect1">
    <a id="fdisk-8_sect4" name="fdisk-8_sect4" shape="rect">
    </a>
    <h2>
     DISK LABELS
    </h2>
    <p>
     <span class="emphasis">
      <em>
       GPT (GUID Partition
      Table)
      </em>
     </span>
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <p>
       GPT is modern standard for the layout of the partition
          table. GPT uses 64-bit logical block addresses,
          checksums, UUIDs and names for partitions and an
          unlimited number of partitions (although the number of
          partitions is usually restricted to 128 in many
          partitioning tools).
      </p>
      <p>
       Note that the first sector is still reserved for a
       <span class="emphasis">
        <em>
         protective MBR
        </em>
       </span>
       in
          the GPT specification. It prevents MBR-only partitioning
          tools from mis-recognizing and overwriting GPT disks.
      </p>
      <p>
       GPT is always a better choice than MBR, especially on
          modern hardware with a UEFI boot loader.
      </p>
     </blockquote>
    </div>
    <p>
     <span class="emphasis">
      <em>
       DOS-type (MBR)
      </em>
     </span>
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <p>
       A DOS-type partition table can describe an unlimited
          number of partitions. In sector 0 there is room for the
          description of 4 partitions (called `primary'). One of
          these may be an extended partition; this is a box holding
          logical partitions, with descriptors found in a linked
          list of sectors, each preceding the corresponding logical
          partitions. The four primary partitions, present or not,
          get numbers 1-4. Logical partitions are numbered starting
          from 5.
      </p>
      <p>
       In a DOS-type partition table the starting offset and
          the size of each partition is stored in two ways: as an
          absolute number of sectors (given in 32 bits), and as a
       <span class="command">
        <strong>
         Cylinders/Heads/Sectors
        </strong>
       </span>
       triple (given in 10+8+6 bits). The former is OK -- with
          512-byte sectors this will work up to 2 TB. The latter
          has two problems. First, these C/H/S fields can be filled
          only when the number of heads and the number of sectors
          per track are known. And second, even if we know what
          these numbers should be, the 24 bits that are available
          do not suffice. DOS uses C/H/S only, Windows uses both,
          Linux never uses C/H/S. The
       <span class="emphasis">
        <em>
         C/H/S addressing is deprecated
        </em>
       </span>
       and may be unsupported in some later fdisk version.
      </p>
      <p>
       <span class="emphasis">
        <em>
         Please, read the DOS-mode
          section if you want DOS-compatible
          partitions.
        </em>
       </span>
       <span class="command">
        <strong>
         fdisk
        </strong>
       </span>
       does not care
          about cylinder boundaries by default.
      </p>
     </blockquote>
    </div>
    <p>
     <em class="replaceable">
      <code>
       BSD/Sun-type
      </code>
     </em>
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <p>
       A BSD/Sun disklabel can describe 8 partitions, the
          third of which should be a `whole disk' partition. Do not
          start a partition that actually uses its first sector
          (like a swap partition) at cylinder 0, since that will
          destroy the disklabel. Note that a
       <span class="emphasis">
        <em>
         BSD label
        </em>
       </span>
       is usually nested
          within a DOS partition.
      </p>
     </blockquote>
    </div>
    <p>
     <em class="replaceable">
      <code>
       IRIX/SGI-type
      </code>
     </em>
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <p>
       An IRIX/SGI disklabel can describe 16 partitions, the
          eleventh of which should be an entire `volume' partition,
          while the ninth should be labeled `volume header'. The
          volume header will also cover the partition table, i.e.,
          it starts at block zero and extends by default over five
          cylinders. The remaining space in the volume header may
          be used by header directory entries. No partitions may
          overlap with the volume header. Also do not change its
          type or make some filesystem on it, since you will lose
          the partition table. Use this type of label only when
          working with Linux on IRIX/SGI machines or IRIX/SGI disks
          under Linux.
      </p>
     </blockquote>
    </div>
    <p>
     A sync() and an ioctl(BLKRRPART) (rereading the partition
      table from disk) are performed before exiting when the
      partition table has been updated.
    </p>
   </div>
   <div class="refsect1">
    <a id="fdisk-8_sect5" name="fdisk-8_sect5" shape="rect">
    </a>
    <h2>
     DOS mode and DOS 6.x WARNING
    </h2>
    <p>
     <span class="emphasis">
      <em>
       Note that all this is
      deprecated. You don't have to care about things
      like
      </em>
     </span>
     <span class="emphasis">
      <em>
       geometry and
      cylinders on modern operating systems. If you really
      want
      </em>
     </span>
     <span class="emphasis">
      <em>
       DOS-compatible
      partitioning then you have to enable DOS mode and
      cylinder
      </em>
     </span>
     <span class="emphasis">
      <em>
       units by
      using the '-c=dos -u=cylinders' fdisk command-line
      options.
      </em>
     </span>
    </p>
    <p>
     The DOS 6.x FORMAT command looks for some information in
      the first sector of the data area of the partition, and
      treats this information as more reliable than the information
      in the partition table. DOS FORMAT expects DOS FDISK to clear
      the first 512 bytes of the data area of a partition whenever
      a size change occurs. DOS FORMAT will look at this extra
      information even if the /U flag is given -- we consider this
      a bug in DOS FORMAT and DOS FDISK.
    </p>
    <p>
     The bottom line is that if you use
     <span class="command">
      <strong>
       fdisk
      </strong>
     </span>
     or
     <span class="command">
      <strong>
       cfdisk
      </strong>
     </span>
     to change the size
      of a DOS partition table entry, then you must also use
     <a class="link" href="../htmlman1/dd.1.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        dd
       </span>
       (1)
      </span>
     </a>
     to zero the first 512
      bytes of that partition before using DOS FORMAT to format the
      partition. For example, if you were using
     <span class="command">
      <strong>
       fdisk
      </strong>
     </span>
     to make a DOS
      partition table entry for /dev/sda1, then (after exiting
     <span class="command">
      <strong>
       fdisk
      </strong>
     </span>
     and
      rebooting Linux so that the partition table information is
      valid) you would use the command "dd if=/dev/zero
      of=/dev/sda1 bs=512 count=1" to zero the first 512 bytes of
      the partition.
    </p>
    <p>
     <span class="command">
      <strong>
       fdisk
      </strong>
     </span>
     usually obtains the disk geometry automatically. This is not
      necessarily the physical disk geometry (indeed, modern disks
      do not really have anything like a physical geometry,
      certainly not something that can be described in the
      simplistic Cylinders/Heads/Sectors form), but it is the disk
      geometry that MS-DOS uses for the partition table.
    </p>
    <p>
     Usually all goes well by default, and there are no
      problems if Linux is the only system on the disk. However, if
      the disk has to be shared with other operating systems, it is
      often a good idea to let an fdisk from another operating
      system make at least one partition. When Linux boots it looks
      at the partition table, and tries to deduce what (fake)
      geometry is required for good cooperation with other
      systems.
    </p>
    <p>
     Whenever a partition table is printed out in DOS mode, a
      consistency check is performed on the partition table
      entries. This check verifies that the physical and logical
      start and end points are identical, and that each partition
      starts and ends on a cylinder boundary (except for the first
      partition).
    </p>
    <p>
     Some versions of MS-DOS create a first partition which
      does not begin on a cylinder boundary, but on sector 2 of the
      first cylinder. Partitions beginning in cylinder 1 cannot
      begin on a cylinder boundary, but this is unlikely to cause
      difficulty unless you have OS/2 on your machine.
    </p>
    <p>
     For best results, you should always use an OS-specific
      partition table program. For example, you should make DOS
      partitions with the DOS FDISK program and Linux partitions
      with the Linux fdisk or Linux cfdisk programs.
    </p>
   </div>
   <div class="refsect1">
    <a id="fdisk-8_sect6" name="fdisk-8_sect6" shape="rect">
    </a>
    <h2>
     AUTHORS
    </h2>
    <p>
     <a class="literalurl" href="mailto:kzak%20REMOVE%20@%20THIS%20redhat.com" shape="rect" target="_top">
      Karel Zak
     </a>
    </p>
    <p>
     <a class="literalurl" href="mailto:dave%20REMOVE%20@%20THIS%20gnu.org" shape="rect" target="_top">
      Davidlohr Bueso
     </a>
    </p>
    <p>
     The original version was written by Andries E. Brouwer, A.
      V. Le Blanc and others.
    </p>
   </div>
   <div class="refsect1">
    <a id="fdisk-8_sect7" name="fdisk-8_sect7" shape="rect">
    </a>
    <h2>
     ENVIRONMENT
    </h2>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        <span class="emphasis">
         <em>
          Setting
          LIBFDISK_DEBUG=0xffff enables debug
          output.
         </em>
        </span>
       </span>
      </dt>
     </dl>
    </div>
   </div>
   <div class="refsect1">
    <a id="fdisk-8_sect8" name="fdisk-8_sect8" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <a class="link" href="../htmlman8/cfdisk.8.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        cfdisk
       </span>
       (8)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman8/sfdisk.8.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        sfdisk
       </span>
       (8)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman8/mkfs.8.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        mkfs
       </span>
       (8)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman8/partx.8.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        partx
       </span>
       (8)
      </span>
     </a>
    </p>
   </div>
   <div class="refsect1">
    <a id="fdisk-8_sect9" name="fdisk-8_sect9" shape="rect">
    </a>
    <h2>
     AVAILABILITY
    </h2>
    <p>
     The fdisk command is part of the util-linux package and is
      available from
      ftp://ftp.kernel.org/pub/linux/utils/util-linux/.
    </p>
   </div>
  </div>
 </body>
</html>

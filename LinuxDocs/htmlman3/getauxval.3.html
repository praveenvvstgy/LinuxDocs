<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   getauxval(3) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="getauxval(3) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="getauxval.3" name="getauxval.3" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     getauxval &mdash; retrieve a value from the auxiliary
      vector
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="funcsynopsis">
     <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;sys/auxv.h&gt;
</pre>
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         unsigned long
         <strong>
          getauxval
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        unsigned long
        <var class="pdparam">
         type
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
   </div>
   <div class="refsect1">
    <a id="getauxval-3_sect1" name="getauxval-3_sect1" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     The
     <code class="function">
      getauxval
     </code>
     () function
      retrieves values from the auxiliary vector, a mechanism that
      the kernel's ELF binary loader uses to pass certain
      information to user space when a program is executed.
    </p>
    <p>
     Each entry in the auxiliary vector consists of a pair of
      values: a type that identifies what this entry represents,
      and a value for that type. Given the argument
     <em class="parameter">
      <code>
       type
      </code>
     </em>
     ,
     <code class="function">
      getauxval
     </code>
     () returns the corresponding
      value.
    </p>
    <p>
     The value returned for each
     <em class="parameter">
      <code>
       type
      </code>
     </em>
     is given in the following
      list. Not all
     <em class="parameter">
      <code>
       type
      </code>
     </em>
     values are present on all architectures.
    </p>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        <code class="constant">
         AT_BASE
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The base address of the program interpreter
            (usually, the dynamic linker).
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_BASE_PLATFORM
        </code>
       </span>
      </dt>
      <dd>
       <p>
        A string identifying the real platform; may differ
            from
        <code class="constant">
         AT_PLATFORM
        </code>
        (PowerPC
            only).
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_CLKTCK
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The frequency with which
        <a class="link" href="../htmlman2/times.2.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           times
          </span>
          (2)
         </span>
        </a>
        counts. This
            value can also be obtained via
        <em class="replaceable">
         <code>
          sysconf(_SC_CLK_TCK)
         </code>
        </em>
        .
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_DCACHEBSIZE
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The data cache block size.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_EGID
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The effective group ID of the thread.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_ENTRY
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The entry address of the executable.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_EUID
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The effective user ID of the thread.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_EXECFD
        </code>
       </span>
      </dt>
      <dd>
       <p>
        File descriptor of program.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_EXECFN
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Pathname used to execute program.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_FLAGS
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Flags (unused).
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_FPUCW
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Used FPU control word (SuperH architecture only).
            This gives some information about the FPU
            initialization performed by the kernel.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_GID
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The real group ID of the thread.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_HWCAP
        </code>
       </span>
      </dt>
      <dd>
       <p>
        A pointer to a multibyte mask of bits whose settings
            indicate detailed processor capabilities. The contents
            of the bit mask are hardware dependent (for example,
            see the kernel source file
        <code class="filename">
         arch/x86/include/asm/cpufeature.h
        </code>
        for
            details relating to the Intel x86 architecture). A
            human-readable version of the same information is
            available via
        <code class="filename">
         /proc/cpuinfo
        </code>
        .
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_ICACHEBSIZE
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The instruction cache block size.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_PAGESZ
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The system page size (the same value returned by
        <em class="replaceable">
         <code>
          sysconf(_SC_PAGESIZE)
         </code>
        </em>
        ).
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_PHDR
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The address of the program headers of the
            executable.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_PHENT
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The size of program header entry.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_PHNUM
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The number of program headers.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_PLATFORM
        </code>
       </span>
      </dt>
      <dd>
       <p>
        A pointer to a string that identifies the hardware
            platform that the program is running on. The dynamic
            linker uses this in the interpretation of
        <code class="function">
         rpath
        </code>
        values.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_RANDOM
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The address of sixteen bytes containing a random
            value.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_SECURE
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Has a nonzero value if this executable should be
            treated securely. Most commonly, a nonzero value
            indicates that the process is executing a set-user-ID
            or set-group-ID program; alternatively, a nonzero value
            may be triggered by a Linux Security Module. When this
            value is nonzero, the dynamic linker disables the use
            of certain environment variables (see
        <span class="citerefentry">
         <span class="refentrytitle">
          ld-linux.so
         </span>
         (8)
        </span>
        ) and glibc
            changes other aspects of its behavior. (See also
        <a class="link" href="../htmlman3/getenv.3.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           secure_getenv
          </span>
          (3)
         </span>
        </a>
        .)
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_SYSINFO
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The entry point to the system call function in the
            vDSO. Not present/needed on all architectures (e.g.,
            absent on x86-64).
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_SYSINFO_EHDR
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The address of a page containing the virtual Dynamic
            Shared Object (vDSO) that the kernel creates in order
            to provide fast implementations of certain system
            calls.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_UCACHEBSIZE
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The unified cache block size.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="constant">
         AT_UID
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The real user ID of the thread.
       </p>
      </dd>
     </dl>
    </div>
   </div>
   <div class="refsect1">
    <a id="getauxval-3_sect2" name="getauxval-3_sect2" shape="rect">
    </a>
    <h2>
     RETURN VALUE
    </h2>
    <p>
     On success,
     <code class="function">
      getauxval
     </code>
     ()
      returns the value corresponding to
     <em class="parameter">
      <code>
       type
      </code>
     </em>
     . If
     <em class="parameter">
      <code>
       type
      </code>
     </em>
     is not found, 0 is
      returned.
    </p>
   </div>
   <div class="refsect1">
    <a id="getauxval-3_sect3" name="getauxval-3_sect3" shape="rect">
    </a>
    <h2>
     ERRORS
    </h2>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        <span class="errorname">
         ENOENT
        </span>
        (since glibc 2.19)
       </span>
      </dt>
      <dd>
       <p>
        No entry corresponding to
        <em class="parameter">
         <code>
          type
         </code>
        </em>
        could be found in
            the auxiliary vector.
       </p>
      </dd>
     </dl>
    </div>
   </div>
   <div class="refsect1">
    <a id="getauxval-3_sect4" name="getauxval-3_sect4" shape="rect">
    </a>
    <h2>
     VERSIONS
    </h2>
    <p>
     The
     <code class="function">
      getauxval
     </code>
     () function was
      added to glibc in version 2.16.
    </p>
   </div>
   <div class="refsect1">
    <a id="getauxval-3_sect5" name="getauxval-3_sect5" shape="rect">
    </a>
    <h2>
     ATTRIBUTES
    </h2>
    <div class="refsect2">
     <a id="getauxval-3_sect6" name="getauxval-3_sect6" shape="rect">
     </a>
     <h3>
      Multithreading (see pthreads(7))
     </h3>
     <p>
      The
      <code class="function">
       getauxval
      </code>
      () function
        is thread-safe.
     </p>
    </div>
   </div>
   <div class="refsect1">
    <a id="getauxval-3_sect7" name="getauxval-3_sect7" shape="rect">
    </a>
    <h2>
     CONFORMING TO
    </h2>
    <p>
     This function is a nonstandard glibc extension.
    </p>
   </div>
   <div class="refsect1">
    <a id="getauxval-3_sect8" name="getauxval-3_sect8" shape="rect">
    </a>
    <h2>
     NOTES
    </h2>
    <p>
     The primary consumer of the information in the auxiliary
      vector is the dynamic linker
     <span class="citerefentry">
      <span class="refentrytitle">
       ld-linux.so
      </span>
      (8)
     </span>
     . The auxiliary
      vector is a convenient and efficient shortcut that allows the
      kernel to communicate a certain set of standard information
      that the dynamic linker usually or always needs. In some
      cases, the same information could be obtained by system
      calls, but using the auxiliary vector is cheaper.
    </p>
    <p>
     The auxiliary vector resides just above the argument list
      and environment in the process address space. The auxiliary
      vector supplied to a program can be viewed by setting the
     <code class="constant">
      LD_SHOW_AUXV
     </code>
     environment
      variable when running a program:
    </p>
    <p>
     $ LD_SHOW_AUXV=1 sleep 1
    </p>
    <p>
     The auxiliary vector of any process can (subject to file
      permissions) be obtained via
     <code class="filename">
      /proc/PID/auxv
     </code>
     ; see
     <a class="link" href="../htmlman5/proc.5.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        proc
       </span>
       (5)
      </span>
     </a>
     for more
      information.
    </p>
   </div>
   <div class="refsect1">
    <a id="getauxval-3_sect9" name="getauxval-3_sect9" shape="rect">
    </a>
    <h2>
     BUGS
    </h2>
    <p>
     Before the addition of the
     <span class="errorname">
      ENOENT
     </span>
     error in glibc 2.19, there was no
      way to unambiguously distinguish the case where
     <em class="parameter">
      <code>
       type
      </code>
     </em>
     could not be found from
      the case where the value corresponding to
     <em class="parameter">
      <code>
       type
      </code>
     </em>
     was zer0.
    </p>
   </div>
   <div class="refsect1">
    <a id="getauxval-3_sect10" name="getauxval-3_sect10" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <a class="link" href="../htmlman3/getenv.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        secure_getenv
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman7/vdso.7.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        vdso
       </span>
       (7)
      </span>
     </a>
     ,
     <span class="citerefentry">
      <span class="refentrytitle">
       ld-linux.so
      </span>
      (8)
     </span>
    </p>
   </div>
   <div class="colophon">
    <a id="getauxval-3_sect11" name="getauxval-3_sect11" shape="rect">
    </a>
    <h2>
     COLOPHON
    </h2>
    <p>
     This page is part of release 3.72 of the Linux
     <em class="replaceable">
      <code>
       man-pages
      </code>
     </em>
     project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man&minus;pages/.
    </p>
   </div>
  </div>
 </body>
</html>

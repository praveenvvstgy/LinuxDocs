<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   key_setsecret(3) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="key_setsecret(3) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="key-setsecret.3" name="key-setsecret.3" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     key_decryptsession, key_encryptsession, key_setsecret,
      key_gendes, key_secretkey_is_set &mdash; interfaces to rpc
      keyserver daemon
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="funcsynopsis">
     <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;rpc/rpc.h&gt;
</pre>
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          key_decryptsession
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        char *
        <var class="pdparam">
         remotename
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        des_block *
        <var class="pdparam">
         deskey
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          key_encryptsession
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        char *
        <var class="pdparam">
         remotename
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        des_block *
        <var class="pdparam">
         deskey
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          key_gendes
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        des_block *
        <var class="pdparam">
         deskey
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          key_setsecret
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        char *
        <var class="pdparam">
         key
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          key_secretkey_is_set
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        <code>
         void)
        </code>
        ;
       </td>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
   </div>
   <div class="refsect1">
    <a id="key-setsecret-3_sect1" name="key-setsecret-3_sect1" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     The functions here are used within the RPC's secure
      authentication mechanism (AUTH_DES). There should be no need
      for user programs to use this functions.
    </p>
    <p>
     The function
     <code class="function">
      key_decryptsession
     </code>
     () uses the (remote)
      server netname and takes the DES key for decrypting. It uses
      the public key of the server and the secret key associated
      with the effective UID of the calling process.
    </p>
    <p>
     The function
     <code class="function">
      key_encryptsession
     </code>
     () is the inverse of
     <code class="function">
      key_decryptsession
     </code>
     (). It
      encrypts the DES keys with the public key of the server and
      the secret key associated with the effective UID of the
      calling process.
    </p>
    <p>
     The function
     <code class="function">
      key_gendes
     </code>
     () is
      used to ask the keyserver for a secure conversation key.
    </p>
    <p>
     The function
     <code class="function">
      key_setsecret
     </code>
     ()
      is used to set the key for the effective UID of the calling
      process.
    </p>
    <p>
     The function
     <code class="function">
      key_secretkey_is_set
     </code>
     () can be used to
      determine whether a key has been set for the effective UID of
      the calling process.
    </p>
   </div>
   <div class="refsect1">
    <a id="key-setsecret-3_sect2" name="key-setsecret-3_sect2" shape="rect">
    </a>
    <h2>
     RETURN VALUE
    </h2>
    <p>
     These functions return 1 on success and 0 on failure.
    </p>
   </div>
   <div class="refsect1">
    <a id="key-setsecret-3_sect3" name="key-setsecret-3_sect3" shape="rect">
    </a>
    <h2>
     NOTES
    </h2>
    <p>
     Note that we talk about two types of encryption here. One
      is asymmetric using a public and secret key. The other is
      symmetric, the 64-bit DES.
    </p>
    <p>
     These routines were part of the Linux/Doors-project,
      abandoned by now.
    </p>
   </div>
   <div class="refsect1">
    <a id="key-setsecret-3_sect4" name="key-setsecret-3_sect4" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <a class="link" href="../htmlman3/crypt.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        crypt
       </span>
       (3)
      </span>
     </a>
    </p>
   </div>
   <div class="colophon">
    <a id="key-setsecret-3_sect5" name="key-setsecret-3_sect5" shape="rect">
    </a>
    <h2>
     COLOPHON
    </h2>
    <p>
     This page is part of release 3.72 of the Linux
     <em class="replaceable">
      <code>
       man-pages
      </code>
     </em>
     project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man&minus;pages/.
    </p>
   </div>
  </div>
 </body>
</html>

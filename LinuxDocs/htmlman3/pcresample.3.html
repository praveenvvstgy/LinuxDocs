<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   pcresample(3) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="pcresample(3) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="pcresample.3" name="pcresample.3" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     PCRE &mdash; Perl-compatible regular expressions
    </p>
   </div>
   <div class="refsect1">
    <a id="pcresample-3_sect1" name="pcresample-3_sect1" shape="rect">
    </a>
    <h2>
     PCRE SAMPLE PROGRAM
    </h2>
    <p>
     A simple, complete demonstration program, to get you
      started with using PCRE, is supplied in the file
     <code class="filename">
      pcredemo.c
     </code>
     in the PCRE distribution. A
      listing of this program is given in the
     <a class="link" href="../htmlman3/pcredemo.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        pcredemo
       </span>
       (3)
      </span>
     </a>
     documentation.
      If you do not have a copy of the PCRE distribution, you can
      save this listing to re-create
     <code class="filename">
      pcredemo.c
     </code>
     .
    </p>
    <p>
     The demonstration program, which uses the original PCRE
      8-bit library, compiles the regular expression that is its
      first argument, and matches it against the subject string in
      its second argument. No PCRE options are set, and default
      character tables are used. If matching succeeds, the program
      outputs the portion of the subject that matched, together
      with the contents of any captured substrings.
    </p>
    <p>
     If the -g option is given on the command line, the program
      then goes on to check for further matches of the same regular
      expression in the same subject string. The logic is a little
      bit tricky because of the possibility of matching an empty
      string. Comments in the code explain what is going on.
    </p>
    <p>
     If PCRE is installed in the standard include and library
      directories for your operating system, you should be able to
      compile the demonstration program using this command:
    </p>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">
gcc -o pcredemo pcredemo.c -lpcre
</pre>
    </div>
    <p>
     If PCRE is installed elsewhere, you may need to add
      additional options to the command line. For example, on a
      Unix-like system that has PCRE installed in
     <code class="filename">
      /usr/local
     </code>
     , you can compile the
      demonstration program using a command like this:
    </p>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">
 gcc -o pcredemo -I/usr/local/include pcredemo.c \
     -L/usr/local/lib -lpcre
</pre>
    </div>
    <p>
     In a Windows environment, if you want to statically link
      the program against a non-dll
     <em class="replaceable">
      <code>
       pcre.a
      </code>
     </em>
     file, you must
      uncomment the line that defines PCRE_STATIC before including
     <code class="filename">
      pcre.h
     </code>
     , because otherwise the
     <code class="function">
      pcre_malloc
     </code>
     () and
     <code class="function">
      pcre_free
     </code>
     () exported functions will be
      declared
     <em class="replaceable">
      <code>
       __declspec(dllimport)
      </code>
     </em>
     , with
      unwanted results.
    </p>
    <p>
     Once you have compiled and linked the demonstration
      program, you can run simple tests like this:
    </p>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">
 ./pcredemo 'cat|dog' 'the cat sat on the mat'
 ./pcredemo -g 'cat|dog' 'the dog sat on the cat'
</pre>
    </div>
    <p>
     Note that there is a much more comprehensive test program,
      called
     <span class="command">
      <strong>
       pcretest
      </strong>
     </span>
     , which supports
      many more facilities for testing regular expressions and both
      PCRE libraries. The
     <a class="link" href="../htmlman3/pcredemo.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        pcredemo
       </span>
       (3)
      </span>
     </a>
     program is
      provided as a simple coding example.
    </p>
    <p>
     If you try to run
     <a class="link" href="../htmlman3/pcredemo.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        pcredemo
       </span>
       (3)
      </span>
     </a>
     when PCRE is
      not installed in the standard library directory, you may get
      an error like this on some operating systems (e.g.
      Solaris):
    </p>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">
ld.so.1: a.out: fatal: libpcre.so.0: open failed: No such file or directory
</pre>
    </div>
    <p>
     This is caused by the way shared library support works on
      those systems. You need to add
    </p>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">
-R/usr/local/lib
</pre>
    </div>
    <p>
     (for example) to the compile command to get round this
      problem.
    </p>
   </div>
   <div class="refsect1">
    <a id="pcresample-3_sect2" name="pcresample-3_sect2" shape="rect">
    </a>
    <h2>
     AUTHOR
    </h2>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">
Philip Hazel
University Computing Service
Cambridge CB2 3QH, England.
</pre>
    </div>
   </div>
   <div class="refsect1">
    <a id="pcresample-3_sect3" name="pcresample-3_sect3" shape="rect">
    </a>
    <h2>
     REVISION
    </h2>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">
Last updated: 10 January 2012
Copyright (c) 1997-2012 University of Cambridge.
</pre>
    </div>
   </div>
  </div>
 </body>
</html>

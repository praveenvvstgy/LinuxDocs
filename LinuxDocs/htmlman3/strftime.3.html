<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   strftime(3) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="strftime(3) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="strftime.3" name="strftime.3" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     strftime &mdash; format date and time
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="funcsynopsis">
     <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;time.h&gt;
</pre>
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         size_t
         <strong>
          strftime
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        char *
        <var class="pdparam">
         s
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t
        <var class="pdparam">
         max
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         format
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        const struct tm *
        <var class="pdparam">
         tm
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
   </div>
   <div class="refsect1">
    <a id="strftime-3_sect1" name="strftime-3_sect1" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     The
     <code class="function">
      strftime
     </code>
     () function
      formats the broken-down time
     <em class="parameter">
      <code>
       tm
      </code>
     </em>
     according to the format
      specification
     <em class="parameter">
      <code>
       format
      </code>
     </em>
     and places the result in the character array
     <em class="parameter">
      <code>
       s
      </code>
     </em>
     of size
     <em class="parameter">
      <code>
       max
      </code>
     </em>
     .
    </p>
    <p>
     The format specification is a null-terminated string and
      may contain special character sequences called
     <span class="emphasis">
      <em>
       conversion specifications
      </em>
     </span>
     , each of
      which is introduced by a '%' character and terminated by some
      other character known as a
     <span class="emphasis">
      <em>
       conversion specifier character
      </em>
     </span>
     .
      All other character sequences are
     <span class="emphasis">
      <em>
       ordinary character sequences
      </em>
     </span>
     .
    </p>
    <p>
     The characters of ordinary character sequences (including
      the null byte) are copied verbatim from
     <em class="parameter">
      <code>
       format
      </code>
     </em>
     to
     <em class="parameter">
      <code>
       s
      </code>
     </em>
     . However, the characters of
      conversion specifications are replaced as follows:
    </p>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        %a
       </span>
      </dt>
      <dd>
       <p>
        The abbreviated name of the day of the week
            according to the current locale.
       </p>
      </dd>
      <dt>
       <span class="term">
        %A
       </span>
      </dt>
      <dd>
       <p>
        The full name of the day of the week according to
            the current locale.
       </p>
      </dd>
      <dt>
       <span class="term">
        %b
       </span>
      </dt>
      <dd>
       <p>
        The abbreviated month name according to the current
            locale.
       </p>
      </dd>
      <dt>
       <span class="term">
        %B
       </span>
      </dt>
      <dd>
       <p>
        The full month name according to the current
            locale.
       </p>
      </dd>
      <dt>
       <span class="term">
        %c
       </span>
      </dt>
      <dd>
       <p>
        The preferred date and time representation for the
            current locale.
       </p>
      </dd>
      <dt>
       <span class="term">
        %C
       </span>
      </dt>
      <dd>
       <p>
        The century number (year/100) as a 2-digit integer.
            (SU)
       </p>
      </dd>
      <dt>
       <span class="term">
        %d
       </span>
      </dt>
      <dd>
       <p>
        The day of the month as a decimal number (range 01
            to 31).
       </p>
      </dd>
      <dt>
       <span class="term">
        %D
       </span>
      </dt>
      <dd>
       <p>
        Equivalent to
        <em class="replaceable">
         <code>
          %m/%d/%y
         </code>
        </em>
        .
            (Yecch&mdash;for Americans only. Americans should note
            that in other countries
        <em class="replaceable">
         <code>
          %d/%m/%y
         </code>
        </em>
        is rather
            common. This means that in international context this
            format is ambiguous and should not be used.) (SU)
       </p>
      </dd>
      <dt>
       <span class="term">
        %e
       </span>
      </dt>
      <dd>
       <p>
        Like
        <em class="replaceable">
         <code>
          %d
         </code>
        </em>
        ,
            the day of the month as a decimal number, but a leading
            zero is replaced by a space. (SU)
       </p>
      </dd>
      <dt>
       <span class="term">
        %E
       </span>
      </dt>
      <dd>
       <p>
        Modifier: use alternative format, see below.
            (SU)
       </p>
      </dd>
      <dt>
       <span class="term">
        %F
       </span>
      </dt>
      <dd>
       <p>
        Equivalent to
        <em class="replaceable">
         <code>
          %Y-%m-%d
         </code>
        </em>
        (the ISO 8601
            date format). (C99)
       </p>
      </dd>
      <dt>
       <span class="term">
        %G
       </span>
      </dt>
      <dd>
       <p>
        The ISO 8601 week-based year (see NOTES) with
            century as a decimal number. The 4-digit year
            corresponding to the ISO week number (see
        <code class="literal">
         %V
        </code>
        ). This has the same format and
            value as
        <code class="literal">
         %Y
        </code>
        , except that
            if the ISO week number belongs to the previous or next
            year, that year is used instead. (TZ)
       </p>
      </dd>
      <dt>
       <span class="term">
        %g
       </span>
      </dt>
      <dd>
       <p>
        Like
        <code class="literal">
         %G
        </code>
        , but without
            century, that is, with a 2-digit year (00-99). (TZ)
       </p>
      </dd>
      <dt>
       <span class="term">
        %h
       </span>
      </dt>
      <dd>
       <p>
        Equivalent to
        <em class="replaceable">
         <code>
          %b
         </code>
        </em>
        . (SU)
       </p>
      </dd>
      <dt>
       <span class="term">
        %H
       </span>
      </dt>
      <dd>
       <p>
        The hour as a decimal number using a 24-hour clock
            (range 00 to 23).
       </p>
      </dd>
      <dt>
       <span class="term">
        %I
       </span>
      </dt>
      <dd>
       <p>
        The hour as a decimal number using a 12-hour clock
            (range 01 to 12).
       </p>
      </dd>
      <dt>
       <span class="term">
        %j
       </span>
      </dt>
      <dd>
       <p>
        The day of the year as a decimal number (range 001
            to 366).
       </p>
      </dd>
      <dt>
       <span class="term">
        %k
       </span>
      </dt>
      <dd>
       <p>
        The hour (24-hour clock) as a decimal number (range
            0 to 23); single digits are preceded by a blank. (See
            also
        <code class="literal">
         %H
        </code>
        .) (TZ)
       </p>
      </dd>
      <dt>
       <span class="term">
        %l
       </span>
      </dt>
      <dd>
       <p>
        The hour (12-hour clock) as a decimal number (range
            1 to 12); single digits are preceded by a blank. (See
            also
        <code class="literal">
         %I
        </code>
        .) (TZ)
       </p>
      </dd>
      <dt>
       <span class="term">
        %m
       </span>
      </dt>
      <dd>
       <p>
        The month as a decimal number (range 01 to 12).
       </p>
      </dd>
      <dt>
       <span class="term">
        %M
       </span>
      </dt>
      <dd>
       <p>
        The minute as a decimal number (range 00 to 59).
       </p>
      </dd>
      <dt>
       <span class="term">
        %n
       </span>
      </dt>
      <dd>
       <p>
        A newline character. (SU)
       </p>
      </dd>
      <dt>
       <span class="term">
        %O
       </span>
      </dt>
      <dd>
       <p>
        Modifier: use alternative format, see below.
            (SU)
       </p>
      </dd>
      <dt>
       <span class="term">
        %p
       </span>
      </dt>
      <dd>
       <p>
        Either "AM" or "PM" according to the given time
            value, or the corresponding strings for the current
            locale. Noon is treated as "PM" and midnight as
            "AM".
       </p>
      </dd>
      <dt>
       <span class="term">
        %P
       </span>
      </dt>
      <dd>
       <p>
        Like
        <em class="replaceable">
         <code>
          %p
         </code>
        </em>
        but in lowercase: "am" or "pm" or a corresponding
            string for the current locale. (GNU)
       </p>
      </dd>
      <dt>
       <span class="term">
        %r
       </span>
      </dt>
      <dd>
       <p>
        The time in a.m. or p.m. notation. In the POSIX
            locale this is equivalent to
        <span class="emphasis">
         <em>
          %I:%M:%S %p
         </em>
        </span>
        . (SU)
       </p>
      </dd>
      <dt>
       <span class="term">
        %R
       </span>
      </dt>
      <dd>
       <p>
        The time in 24-hour notation (
        <em class="replaceable">
         <code>
          %H:%M
         </code>
        </em>
        ). (SU) For a
            version including the seconds, see
        <code class="literal">
         %T
        </code>
        below.
       </p>
      </dd>
      <dt>
       <span class="term">
        %s
       </span>
      </dt>
      <dd>
       <p>
        The number of seconds since the Epoch, 1970-01-01
            00:00:00 +0000 (UTC). (TZ)
       </p>
      </dd>
      <dt>
       <span class="term">
        %S
       </span>
      </dt>
      <dd>
       <p>
        The second as a decimal number (range 00 to 60).
            (The range is up to 60 to allow for occasional leap
            seconds.)
       </p>
      </dd>
      <dt>
       <span class="term">
        %t
       </span>
      </dt>
      <dd>
       <p>
        A tab character. (SU)
       </p>
      </dd>
      <dt>
       <span class="term">
        %T
       </span>
      </dt>
      <dd>
       <p>
        The time in 24-hour notation (
        <em class="replaceable">
         <code>
          %H:%M:%S
         </code>
        </em>
        ). (SU)
       </p>
      </dd>
      <dt>
       <span class="term">
        %u
       </span>
      </dt>
      <dd>
       <p>
        The day of the week as a decimal, range 1 to 7,
            Monday being 1. See also
        <em class="replaceable">
         <code>
          %w
         </code>
        </em>
        . (SU)
       </p>
      </dd>
      <dt>
       <span class="term">
        %U
       </span>
      </dt>
      <dd>
       <p>
        The week number of the current year as a decimal
            number, range 00 to 53, starting with the first Sunday
            as the first day of week 01. See also
        <code class="literal">
         %V
        </code>
        and
        <code class="literal">
         %W
        </code>
        .
       </p>
      </dd>
      <dt>
       <span class="term">
        %V
       </span>
      </dt>
      <dd>
       <p>
        The ISO 8601 week number (see NOTES) of the current
            year as a decimal number, range 01 to 53, where week 1
            is the first week that has at least 4 days in the new
            year. See also
        <code class="literal">
         %U
        </code>
        and
        <code class="literal">
         %W
        </code>
        . (SU)
       </p>
      </dd>
      <dt>
       <span class="term">
        %w
       </span>
      </dt>
      <dd>
       <p>
        The day of the week as a decimal, range 0 to 6,
            Sunday being 0. See also
        <em class="replaceable">
         <code>
          %u
         </code>
        </em>
        .
       </p>
      </dd>
      <dt>
       <span class="term">
        %W
       </span>
      </dt>
      <dd>
       <p>
        The week number of the current year as a decimal
            number, range 00 to 53, starting with the first Monday
            as the first day of week 01.
       </p>
      </dd>
      <dt>
       <span class="term">
        %x
       </span>
      </dt>
      <dd>
       <p>
        The preferred date representation for the current
            locale without the time.
       </p>
      </dd>
      <dt>
       <span class="term">
        %X
       </span>
      </dt>
      <dd>
       <p>
        The preferred time representation for the current
            locale without the date.
       </p>
      </dd>
      <dt>
       <span class="term">
        %y
       </span>
      </dt>
      <dd>
       <p>
        The year as a decimal number without a century
            (range 00 to 99).
       </p>
      </dd>
      <dt>
       <span class="term">
        %Y
       </span>
      </dt>
      <dd>
       <p>
        The year as a decimal number including the
            century.
       </p>
      </dd>
      <dt>
       <span class="term">
        %z
       </span>
      </dt>
      <dd>
       <p>
        The
        <em class="replaceable">
         <code>
          +hhmm
         </code>
        </em>
        or
        <code class="option">
         &minus;hhmm
        </code>
        numeric
            timezone (that is, the hour and minute offset from
            UTC). (SU)
       </p>
      </dd>
      <dt>
       <span class="term">
        %Z
       </span>
      </dt>
      <dd>
       <p>
        The timezone name or abbreviation.
       </p>
      </dd>
      <dt>
       <span class="term">
        %+
       </span>
      </dt>
      <dd>
       <p>
        The date and time in
        <a class="link" href="../htmlman1/date.1.html" shape="rect" target="_top">
         <span class="citerefentry">
          <span class="refentrytitle">
           date
          </span>
          (1)
         </span>
        </a>
        format. (TZ)
            (Not supported in glibc2.)
       </p>
      </dd>
      <dt>
       <span class="term">
        %%
       </span>
      </dt>
      <dd>
       <p>
        A literal '%' character.
       </p>
      </dd>
     </dl>
    </div>
    <p>
     Some conversion specifications can be modified by
      preceding the conversion specifier character by the
     <code class="constant">
      E
     </code>
     or
     <code class="constant">
      O
     </code>
     <em class="replaceable">
      <code>
       modifier
      </code>
     </em>
     to indicate that an
      alternative format should be used. If the alternative format
      or specification does not exist for the current locale, the
      behavior will be as if the unmodified conversion
      specification were used. (SU) The Single UNIX Specification
      mentions
     <code class="literal">
      %Ec
     </code>
     ,
     <code class="literal">
      %EC
     </code>
     ,
     <code class="literal">
      %Ex
     </code>
     ,
     <code class="literal">
      %EX
     </code>
     ,
     <code class="literal">
      %Ey
     </code>
     ,
     <code class="literal">
      %EY
     </code>
     ,
     <code class="literal">
      %Od
     </code>
     ,
     <code class="literal">
      %Oe
     </code>
     ,
     <code class="literal">
      %OH
     </code>
     ,
     <code class="literal">
      %OI
     </code>
     ,
     <code class="literal">
      %Om
     </code>
     ,
     <code class="literal">
      %OM
     </code>
     ,
     <code class="literal">
      %OS
     </code>
     ,
     <code class="literal">
      %Ou
     </code>
     ,
     <code class="literal">
      %OU
     </code>
     ,
     <code class="literal">
      %OV
     </code>
     ,
     <code class="literal">
      %Ow
     </code>
     ,
     <code class="literal">
      %OW
     </code>
     ,
     <code class="literal">
      %Oy
     </code>
     , where the effect of the
     <code class="constant">
      O
     </code>
     modifier is to use
      alternative numeric symbols (say, roman numerals), and that
      of the E modifier is to use a locale-dependent alternative
      representation.
    </p>
    <p>
     The broken-down time structure
     <em class="parameter">
      <code>
       tm
      </code>
     </em>
     is defined in
     <code class="literal">
      &lt;
     </code>
     <code class="filename">
      time.h
     </code>
     <code class="literal">
      &gt;
     </code>
     See
      also
     <a class="link" href="../htmlman3/ctime.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        ctime
       </span>
       (3)
      </span>
     </a>
     .
    </p>
   </div>
   <div class="refsect1">
    <a id="strftime-3_sect2" name="strftime-3_sect2" shape="rect">
    </a>
    <h2>
     RETURN VALUE
    </h2>
    <p>
     Provided that the result string, including the terminating
      null byte, does not exceed
     <em class="parameter">
      <code>
       max
      </code>
     </em>
     bytes,
     <code class="function">
      strftime
     </code>
     () returns the number of bytes
      (excluding the terminating null byte) placed in the array
     <em class="parameter">
      <code>
       s
      </code>
     </em>
     . If the length of
      the result string (including the terminating null byte) would
      exceed
     <em class="parameter">
      <code>
       max
      </code>
     </em>
     bytes,
      then
     <code class="function">
      strftime
     </code>
     () returns 0, and
      the contents of the array are undefined.
    </p>
    <p>
     Note that the return value 0 does not necessarily indicate
      an error. For example, in many locales
     <em class="replaceable">
      <code>
       %p
      </code>
     </em>
     yields an empty string. An
      empty
     <em class="parameter">
      <code>
       format
      </code>
     </em>
     string
      will likewise yield an empty string.
    </p>
   </div>
   <div class="refsect1">
    <a id="strftime-3_sect3" name="strftime-3_sect3" shape="rect">
    </a>
    <h2>
     ENVIRONMENT
    </h2>
    <p>
     The environment variables
     <code class="constant">
      TZ
     </code>
     and
     <code class="constant">
      LC_TIME
     </code>
     are used.
    </p>
   </div>
   <div class="refsect1">
    <a id="strftime-3_sect4" name="strftime-3_sect4" shape="rect">
    </a>
    <h2>
     CONFORMING TO
    </h2>
    <p>
     SVr4, C89, C99. There are strict inclusions between the
      set of conversions given in ANSI C (unmarked), those given in
      the Single UNIX Specification (marked SU), those given in
      Olson's timezone package (marked TZ), and those given in
      glibc (marked GNU), except that
     <em class="replaceable">
      <code>
       %+
      </code>
     </em>
     is not supported in
      glibc2. On the other hand glibc2 has several more extensions.
      POSIX.1 only refers to ANSI C; POSIX.2 describes under
     <a class="link" href="../htmlman1/date.1.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        date
       </span>
       (1)
      </span>
     </a>
     several extensions
      that could apply to
     <code class="function">
      strftime
     </code>
     ()
      as well. The
     <code class="literal">
      %F
     </code>
     conversion is in
      C99 and POSIX.1-2001.
    </p>
    <p>
     In SUSv2, the
     <code class="literal">
      %S
     </code>
     specifier
      allowed a range of 00 to 61, to allow for the theoretical
      possibility of a minute that included a double leap second
      (there never has been such a minute).
    </p>
   </div>
   <div class="refsect1">
    <a id="strftime-3_sect5" name="strftime-3_sect5" shape="rect">
    </a>
    <h2>
     NOTES
    </h2>
    <div class="refsect2">
     <a id="strftime-3_sect6" name="strftime-3_sect6" shape="rect">
     </a>
     <h3>
      ISO 8601 week dates
     </h3>
     <p>
      <code class="literal">
       %G
      </code>
      ,
      <em class="replaceable">
       <code>
        %g
       </code>
      </em>
      , and
      <code class="literal">
       %V
      </code>
      yield values calculated from the
        week-based year defined by the ISO 8601 standard. In this
        system, weeks start on a Monday, and are numbered from 01,
        for the first week, up to 52 or 53, for the last week. Week
        1 is the first week where four or more days fall within the
        new year (or, synonymously, week 01 is: the first week of
        the year that contains a Thursday; or, the week that has 4
        January in it). When three of fewer days of the first
        calendar week of the new year fall within that year, then
        the ISO 8601 week-based system counts those days as part of
        week 53 of the preceding year. For example, 1 January 2010
        is a Friday, meaning that just three days of that calendar
        week fall in 2010. Thus, the ISO 8601 week-based system
        considers these days to be part of week 53 (
      <code class="literal">
       %V
      </code>
      ) of the year 2009 (
      <code class="literal">
       %G
      </code>
      ); week 01 of ISO 8601 year 2010 starts
        on Monday, 4 January 2010.
     </p>
    </div>
    <div class="refsect2">
     <a id="strftime-3_sect7" name="strftime-3_sect7" shape="rect">
     </a>
     <h3>
      Glibc notes
     </h3>
     <p>
      Glibc provides some extensions for conversion
        specifications. (These extensions are not specified in
        POSIX.1-2001, but a few other systems provide similar
        features.) Between the '%' character and the conversion
        specifier character, an optional
      <em class="replaceable">
       <code>
        flag
       </code>
      </em>
      and field
      <em class="replaceable">
       <code>
        width
       </code>
      </em>
      may be specified.
        (These precede the
      <code class="constant">
       E
      </code>
      or
      <code class="constant">
       O
      </code>
      modifiers, if present.)
     </p>
     <p>
      The following flag characters are permitted:
     </p>
     <div class="variablelist">
      <dl class="variablelist">
       <dt>
        <span class="term">
         <code class="constant">
          _
         </code>
        </span>
       </dt>
       <dd>
        <p>
         (underscore) Pad a numeric result string with
              spaces.
        </p>
       </dd>
       <dt>
        <span class="term">
         <span class="emphasis">
          <em>
           &minus;
          </em>
         </span>
        </span>
       </dt>
       <dd>
        <p>
         (dash) Do not pad a numeric result string.
        </p>
       </dd>
       <dt>
        <span class="term">
         <code class="constant">
          0
         </code>
        </span>
       </dt>
       <dd>
        <p>
         Pad a numeric result string with zeros even if the
              conversion specifier character uses space-padding by
              default.
        </p>
       </dd>
       <dt>
        <span class="term">
         <code class="literal">
          ^
         </code>
        </span>
       </dt>
       <dd>
        <p>
         Convert alphabetic characters in result string to
              uppercase.
        </p>
       </dd>
       <dt>
        <span class="term">
         <code class="literal">
          #
         </code>
        </span>
       </dt>
       <dd>
        <p>
         Swap the case of the result string. (This flag
              works only with certain conversion specifier
              characters, and of these, it is only really useful
              with
         <code class="literal">
          %Z
         </code>
         .)
        </p>
       </dd>
      </dl>
     </div>
     <p>
      An optional decimal width specifier may follow the
        (possibly absent) flag. If the natural size of the field is
        smaller than this width, then the result string is padded
        (on the left) to the specified width.
     </p>
    </div>
   </div>
   <div class="refsect1">
    <a id="strftime-3_sect8" name="strftime-3_sect8" shape="rect">
    </a>
    <h2>
     BUGS
    </h2>
    <p>
     If the output string would exceed
     <em class="parameter">
      <code>
       max
      </code>
     </em>
     bytes,
     <code class="varname">
      errno
     </code>
     is
     <span class="emphasis">
      <em>
       not
      </em>
     </span>
     set. This makes it impossible
      to distinguish this error case from cases where the
     <em class="parameter">
      <code>
       format
      </code>
     </em>
     string
      legitimately produces a zero-length output string.
      POSIX.1-2001 does
     <span class="emphasis">
      <em>
       not
      </em>
     </span>
     specify any
     <code class="varname">
      errno
     </code>
     settings for
     <code class="function">
      strftime
     </code>
     ().
    </p>
    <p>
     Some buggy versions of
     <span class="citerefentry">
      <span class="refentrytitle">
       gcc
      </span>
      (1)
     </span>
     complain about the use
      of
     <em class="replaceable">
      <code>
       %c
      </code>
     </em>
     :
     <span class="emphasis">
      <em>
       warning: `%c' yields only last 2 digits of
      year in some locales
      </em>
     </span>
     . Of course programmers are
      encouraged to use
     <em class="replaceable">
      <code>
       %c
      </code>
     </em>
     , it gives the preferred
      date and time representation. One meets all kinds of strange
      obfuscations to circumvent this
     <span class="citerefentry">
      <span class="refentrytitle">
       gcc
      </span>
      (1)
     </span>
     problem. A relatively
      clean one is to add an intermediate function
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <div class="informalexample">
       <pre class="programlisting" xml:space="preserve">
size_t
my_strftime(char *s, size_t max, const char *fmt,
            const struct tm *tm)
{
    return strftime(s, max, fmt, tm);
}
</pre>
      </div>
     </blockquote>
    </div>
    <p>
     Nowadays,
     <span class="citerefentry">
      <span class="refentrytitle">
       gcc
      </span>
      (1)
     </span>
     provides the
     <code class="option">
      &minus;Wno&minus;format&minus;y2k
     </code>
     option to prevent the warning, so that the above workaround
      is no longer required.
    </p>
   </div>
   <div class="refsect1">
    <a id="strftime-3_sect9" name="strftime-3_sect9" shape="rect">
    </a>
    <h2>
     EXAMPLE
    </h2>
    <p>
     <span class="emphasis">
      <em>
       RFC 2822-compliant date
      format
      </em>
     </span>
     (with an English locale for %a and %b)
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <p>
       "%a, %d %b %Y %T %z"
      </p>
      <p>
       <span class="emphasis">
        <em>
         RFC 822-compliant date
          format
        </em>
       </span>
       (with an English locale for %a and
          %b)
      </p>
      <div class="blockquote">
       <blockquote class="blockquote">
        <p>
         "%a, %d %b %y %T %z"
        </p>
       </blockquote>
      </div>
     </blockquote>
    </div>
    <div class="refsect2">
     <a id="strftime-3_sect10" name="strftime-3_sect10" shape="rect">
     </a>
     <h3>
      Example program
     </h3>
     <p>
      The program below can be used to experiment with
      <code class="function">
       strftime
      </code>
      ().
     </p>
     <p>
      Some examples of the result string produced by the glibc
        implementation of
      <code class="function">
       strftime
      </code>
      ()
        are as follows:
     </p>
     <div class="blockquote">
      <blockquote class="blockquote">
       <div class="informalexample">
        <pre class="programlisting" xml:space="preserve">
$<span class="emphasis"><em> ./a.out '%m'</em></span>
Result string is "11"
$<span class="emphasis"><em> ./a.out '%5m'</em></span>
Result string is "00011"
$<span class="emphasis"><em> ./a.out '%_5m'</em></span>
Result string is "   11"
</pre>
       </div>
      </blockquote>
     </div>
    </div>
    <div class="refsect2">
     <a id="strftime-3_sect11" name="strftime-3_sect11" shape="rect">
     </a>
     <h3>
      Program source
     </h3>
     <div class="informalexample">
      <pre class="programlisting" xml:space="preserve">
#include &lt;time.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int
main(int argc, char *argv[])
{
    char outstr[200];
    time_t t;
    struct tm *tmp;

    t = time(NULL);
    tmp = localtime(&amp;t);
    if (tmp == NULL) {
        perror("localtime");
        exit(EXIT_FAILURE);
    }

    if (strftime(outstr, sizeof(outstr), argv[1], tmp) == 0) {
        fprintf(stderr, "strftime returned 0");
        exit(EXIT_FAILURE);
    }

    printf("Result string is \"%s\"\n", outstr);
    exit(EXIT_SUCCESS);
}
</pre>
     </div>
    </div>
   </div>
   <div class="refsect1">
    <a id="strftime-3_sect12" name="strftime-3_sect12" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <a class="link" href="../htmlman1/date.1.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        date
       </span>
       (1)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman2/time.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        time
       </span>
       (2)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/ctime.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        ctime
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/setlocale.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        setlocale
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/printf.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        sprintf
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/strptime.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        strptime
       </span>
       (3)
      </span>
     </a>
    </p>
   </div>
   <div class="colophon">
    <a id="strftime-3_sect13" name="strftime-3_sect13" shape="rect">
    </a>
    <h2>
     COLOPHON
    </h2>
    <p>
     This page is part of release 3.72 of the Linux
     <em class="replaceable">
      <code>
       man-pages
      </code>
     </em>
     project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man&minus;pages/.
    </p>
   </div>
  </div>
 </body>
</html>

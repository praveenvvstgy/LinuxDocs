<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   lber_encode(3) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="lber_encode(3) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="lber-encode.3" name="lber-encode.3" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     ber_alloc_t, ber_flush, ber_flush2, ber_printf,
      ber_put_int, ber_put_enum, ber_put_ostring, ber_put_string,
      ber_put_null, ber_put_boolean, ber_put_bitstring,
      ber_start_seq, ber_start_set, ber_put_seq, ber_put_set
      &mdash; OpenLDAP LBER simplified Basic Encoding Rules library
      routines for encoding
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="funcsynopsis">
     <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;lber.h&gt;
</pre>
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         BerElement
            *
         <strong>
          ber_alloc_t
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         options
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ber_flush
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        Sockbuf *
        <var class="pdparam">
         sb
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        BerElement *
        <var class="pdparam">
         ber
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         freeit
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ber_flush2
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        Sockbuf *
        <var class="pdparam">
         sb
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        BerElement *
        <var class="pdparam">
         ber
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         freeit
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ber_printf
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        BerElement *
        <var class="pdparam">
         ber
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         fmt
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        <var class="pdparam">
         ...
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ber_put_int
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        BerElement *
        <var class="pdparam">
         ber
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        ber_int_t
        <var class="pdparam">
         num
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        ber_tag_t
        <var class="pdparam">
         tag
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ber_put_enum
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        BerElement *
        <var class="pdparam">
         ber
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        ber_int_t
        <var class="pdparam">
         num
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        ber_tag_t
        <var class="pdparam">
         tag
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ber_put_ostring
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        BerElement *
        <var class="pdparam">
         ber
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         str
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        ber_len_t
        <var class="pdparam">
         len
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        ber_tag_t
        <var class="pdparam">
         tag
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ber_put_string
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        BerElement *
        <var class="pdparam">
         ber
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         str
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        ber_tag_t
        <var class="pdparam">
         tag
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ber_put_null
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        BerElement *
        <var class="pdparam">
         ber
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        ber_tag_t
        <var class="pdparam">
         tag
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ber_put_boolean
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        BerElement *
        <var class="pdparam">
         ber
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        ber_int_t
        <var class="pdparam">
         bool
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        ber_tag_t
        <var class="pdparam">
         tag
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ber_put_bitstring
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        BerElement *
        <var class="pdparam">
         ber
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         str
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        ber_len_t
        <var class="pdparam">
         blen
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        ber_tag_t
        <var class="pdparam">
         tag
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ber_start_seq
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        BerElement *
        <var class="pdparam">
         ber
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        ber_tag_t
        <var class="pdparam">
         tag
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ber_start_set
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        BerElement *
        <var class="pdparam">
         ber
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        ber_tag_t
        <var class="pdparam">
         tag
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ber_put_seq
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        BerElement *
        <var class="pdparam">
         ber
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ber_put_set
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        BerElement *
        <var class="pdparam">
         ber
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
   </div>
   <div class="refsect1">
    <a id="lber-encode-3_sect1" name="lber-encode-3_sect1" shape="rect">
    </a>
    <h2>
     LIBRARY
    </h2>
    <p>
     OpenLDAP LBER (liblber, &minus;llber)
    </p>
   </div>
   <div class="refsect1">
    <a id="lber-encode-3_sect2" name="lber-encode-3_sect2" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     These routines provide a subroutine interface to a
      simplified implementation of the Basic Encoding Rules of
      ASN.1. The version of BER these routines support is the one
      defined for the LDAP protocol. The encoding rules are the
      same as BER, except that only definite form lengths are used,
      and bitstrings and octet strings are always encoded in
      primitive form. This man page describes the encoding routines
      in the lber library. See
     <a class="link" href="../htmlman3/lber-decode.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        lber-decode
       </span>
       (3)
      </span>
     </a>
     for details
      on the corresponding decoding routines. Consult
     <a class="link" href="../htmlman3/lber-types.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        lber-types
       </span>
       (3)
      </span>
     </a>
     for
      information about types, allocators, and deallocators.
    </p>
    <p>
     Normally, the only routines that need to be called by an
      application are
     <code class="function">
      ber_alloc_t
     </code>
     ()
      to allocate a BER element for encoding,
     <code class="function">
      ber_printf
     </code>
     () to do the actual encoding, and
     <code class="function">
      ber_flush2
     </code>
     () to actually write
      the element. The other routines are provided for those
      applications that need more control than
     <code class="function">
      ber_printf
     </code>
     () provides. In general, these
      routines return the length of the element encoded, or -1 if
      an error occurred.
    </p>
    <p>
     The
     <code class="function">
      ber_alloc_t
     </code>
     () routine is
      used to allocate a new BER element. It should be called with
      an argument of LBER_USE_DER.
    </p>
    <p>
     The
     <code class="function">
      ber_flush2
     </code>
     () routine is
      used to actually write the element to a socket (or file)
      descriptor, once it has been fully encoded (using
     <code class="function">
      ber_printf
     </code>
     () and friends). See
     <a class="link" href="../htmlman3/lber-sockbuf.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        lber-sockbuf
       </span>
       (3)
      </span>
     </a>
     for more
      details on the Sockbuf implementation of the
     <em class="parameter">
      <code>
       sb
      </code>
     </em>
     parameter. If the
     <em class="parameter">
      <code>
       freeit
      </code>
     </em>
     parameter is non-zero,
      the supplied
     <em class="parameter">
      <code>
       ber
      </code>
     </em>
     will
      be freed. If
     <code class="constant">
      LBER_FLUSH_FREE_ON_SUCCESS
     </code>
     is used, the
     <em class="parameter">
      <code>
       ber
      </code>
     </em>
     is only freed
      when successfully flushed, otherwise it is left intact; if
     <code class="constant">
      LBER_FLUSH_FREE_ON_ERROR
     </code>
     is
      used, the
     <em class="parameter">
      <code>
       ber
      </code>
     </em>
     is only
      freed when an error occurs, otherwise it is left intact; if
     <code class="constant">
      LBER_FLUSH_FREE_ALWAYS
     </code>
     is used,
      the
     <em class="parameter">
      <code>
       ber
      </code>
     </em>
     is freed
      anyway. This function differs from the original
     <a class="link" href="../htmlman3/lber-encode.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        ber_flush
       </span>
       (3)
      </span>
     </a>
     function,
      whose behavior corresponds to that indicated for
     <code class="constant">
      LBER_FLUSH_FREE_ON_SUCCESS
     </code>
     . Note that in
      the future, the behavior of
     <a class="link" href="../htmlman3/lber-encode.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        ber_flush
       </span>
       (3)
      </span>
     </a>
     with
     <em class="parameter">
      <code>
       freeit
      </code>
     </em>
     non-zero might
      change into that of
     <a class="link" href="../htmlman3/lber-encode.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        ber_flush2
       </span>
       (3)
      </span>
     </a>
     with
     <em class="parameter">
      <code>
       freeit
      </code>
     </em>
     set to
     <code class="constant">
      LBER_FLUSH_FREE_ALWAYS
     </code>
     .
    </p>
    <p>
     The
     <code class="function">
      ber_printf
     </code>
     () routine is
      used to encode a BER element in much the same way that
     <a class="link" href="../htmlman3/printf.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        sprintf
       </span>
       (3)
      </span>
     </a>
     works. One
      important difference, though, is that some state information
      is kept with the
     <em class="parameter">
      <code>
       ber
      </code>
     </em>
     parameter so that multiple calls can be made to
     <code class="function">
      ber_printf
     </code>
     () to append things to the end of
      the BER element.
     <code class="function">
      Ber_printf
     </code>
     ()
      writes to
     <em class="parameter">
      <code>
       ber
      </code>
     </em>
     , a
      pointer to a BerElement such as returned by
     <code class="function">
      ber_alloc_t
     </code>
     (). It interprets and formats
      its arguments according to the format string
     <em class="parameter">
      <code>
       fmt
      </code>
     </em>
     . The format string can
      contain the following characters:
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <div class="variablelist">
       <dl class="variablelist">
        <dt>
         <span class="term">
          <code class="constant">
           b
          </code>
         </span>
        </dt>
        <dd>
         <p>
          Boolean. An ber_int_t parameter should be
                supplied. A boolean element is output.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="constant">
           e
          </code>
         </span>
        </dt>
        <dd>
         <p>
          Enumeration. An ber_int_t parameter should be
                supplied. An enumeration element is output.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="constant">
           i
          </code>
         </span>
        </dt>
        <dd>
         <p>
          Integer. An ber_int_t parameter should be
                supplied. An integer element is output.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="constant">
           B
          </code>
         </span>
        </dt>
        <dd>
         <p>
          Bitstring. A char * pointer to the start of the
                bitstring is supplied, followed by the number of
                bits in the bitstring. A bitstring element is
                output.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="constant">
           n
          </code>
         </span>
        </dt>
        <dd>
         <p>
          Null. No parameter is required. A null element
                is output.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="constant">
           o
          </code>
         </span>
        </dt>
        <dd>
         <p>
          Octet string. A char * is supplied, followed by
                the length of the string pointed to. An octet
                string element is output.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="constant">
           O
          </code>
         </span>
        </dt>
        <dd>
         <p>
          Octet string. A struct berval * is supplied. An
                octet string element is output.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="constant">
           s
          </code>
         </span>
        </dt>
        <dd>
         <p>
          Octet string. A null-terminated string is
                supplied. An octet string element is output, not
                including the trailing NULL octet.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="constant">
           t
          </code>
         </span>
        </dt>
        <dd>
         <p>
          Tag. A ber_tag_t specifying the tag to give the
                next element is provided. This works across
                calls.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="constant">
           v
          </code>
         </span>
        </dt>
        <dd>
         <p>
          Several octet strings. A null-terminated array
                of char *'s is supplied. Note that a construct like
                '{v}' is required to get an actual SEQUENCE OF
                octet strings.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="constant">
           V
          </code>
         </span>
        </dt>
        <dd>
         <p>
          Several octet strings. A null-terminated array
                of struct berval *'s is supplied. Note that a
                construct like '{V}' is required to get an actual
                SEQUENCE OF octet strings.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="constant">
           W
          </code>
         </span>
        </dt>
        <dd>
         <p>
          Several octet strings. An array of struct
                berval's is supplied. The array is terminated by a
                struct berval with a NULL bv_val. Note that a
                construct like '{W}' is required to get an actual
                SEQUENCE OF octet strings.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="constant">
           {
          </code>
         </span>
        </dt>
        <dd>
         <p>
          Begin sequence. No parameter is required.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="constant">
           }
          </code>
         </span>
        </dt>
        <dd>
         <p>
          End sequence. No parameter is required.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="constant">
           [
          </code>
         </span>
        </dt>
        <dd>
         <p>
          Begin set. No parameter is required.
         </p>
        </dd>
        <dt>
         <span class="term">
          <code class="constant">
           ]
          </code>
         </span>
        </dt>
        <dd>
         <p>
          End set. No parameter is required.
         </p>
        </dd>
       </dl>
      </div>
     </blockquote>
    </div>
    <p>
     The
     <code class="function">
      ber_put_int
     </code>
     () routine
      writes the integer element
     <em class="parameter">
      <code>
       num
      </code>
     </em>
     to the BER element
     <em class="parameter">
      <code>
       ber
      </code>
     </em>
     .
    </p>
    <p>
     The
     <code class="function">
      ber_put_enum
     </code>
     () routine
      writes the enumeration element
     <em class="parameter">
      <code>
       num
      </code>
     </em>
     to the BER element
     <em class="parameter">
      <code>
       ber
      </code>
     </em>
     .
    </p>
    <p>
     The
     <code class="function">
      ber_put_boolean
     </code>
     ()
      routine writes the boolean value given by
     <em class="parameter">
      <code>
       bool
      </code>
     </em>
     to the BER element.
    </p>
    <p>
     The
     <code class="function">
      ber_put_bitstring
     </code>
     ()
      routine writes
     <em class="parameter">
      <code>
       blen
      </code>
     </em>
     bits starting at
     <em class="parameter">
      <code>
       str
      </code>
     </em>
     as a bitstring value to the given BER element. Note that
     <em class="parameter">
      <code>
       blen
      </code>
     </em>
     is the length
     <span class="emphasis">
      <em>
       in bits
      </em>
     </span>
     of the
      bitstring.
    </p>
    <p>
     The
     <code class="function">
      ber_put_ostring
     </code>
     ()
      routine writes
     <em class="parameter">
      <code>
       len
      </code>
     </em>
     bytes starting at
     <em class="parameter">
      <code>
       str
      </code>
     </em>
     to the BER element as an octet string.
    </p>
    <p>
     The
     <code class="function">
      ber_put_string
     </code>
     () routine
      writes the null-terminated string (minus the terminating
      '&nbsp;') to the BER element as an octet string.
    </p>
    <p>
     The
     <code class="function">
      ber_put_null
     </code>
     () routine
      writes a NULL element to the BER element.
    </p>
    <p>
     The
     <code class="function">
      ber_start_seq
     </code>
     () routine
      is used to start a sequence in the BER element. The
     <code class="function">
      ber_start_set
     </code>
     () routine works
      similarly. The end of the sequence or set is marked by the
      nearest matching call to
     <code class="function">
      ber_put_seq
     </code>
     () or
     <code class="function">
      ber_put_set
     </code>
     (), respectively.
    </p>
   </div>
   <div class="refsect1">
    <a id="lber-encode-3_sect3" name="lber-encode-3_sect3" shape="rect">
    </a>
    <h2>
     EXAMPLES
    </h2>
    <p>
     Assuming the following variable declarations, and that the
      variables have been assigned appropriately, an lber encoding
      of the following ASN.1 object:
    </p>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">
      AlmostASearchRequest := SEQUENCE {
          baseObject      DistinguishedName,
          scope           ENUMERATED {
              baseObject    (0),
              singleLevel   (1),
              wholeSubtree  (2)
          },
          derefAliases    ENUMERATED {
              neverDerefaliases   (0),
              derefInSearching    (1),
              derefFindingBaseObj (2),
              alwaysDerefAliases  (3)
          },
          sizelimit       INTEGER (0 .. 65535),
          timelimit       INTEGER (0 .. 65535),
          attrsOnly       BOOLEAN,
          attributes      SEQUENCE OF AttributeType
      }
</pre>
    </div>
    <p>
     can be achieved like so:
    </p>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">
      int rc;
      ber_int_t    scope, ali, size, time, attrsonly;
      char   *dn, **attrs;
      BerElement *ber;

      /* ... fill in values ... */

      ber = ber_alloc_t( LBER_USE_DER );

      if ( ber == NULL ) {
              /* error */
      }

      rc = ber_printf( ber, "{siiiib{v}}", dn, scope, ali,
          size, time, attrsonly, attrs );

      if( rc == &minus;1 ) {
              /* error */
      } else {
              /* success */
      }
</pre>
    </div>
   </div>
   <div class="refsect1">
    <a id="lber-encode-3_sect4" name="lber-encode-3_sect4" shape="rect">
    </a>
    <h2>
     ERRORS
    </h2>
    <p>
     If an error occurs during encoding, generally these
      routines return &minus;1.
    </p>
   </div>
   <div class="refsect1">
    <a id="lber-encode-3_sect5" name="lber-encode-3_sect5" shape="rect">
    </a>
    <h2>
     NOTES
    </h2>
    <p>
     The return values for all of these functions are declared
      in the &lt;lber.h&gt; header file.
    </p>
   </div>
   <div class="refsect1">
    <a id="lber-encode-3_sect6" name="lber-encode-3_sect6" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <a class="link" href="../htmlman3/lber-decode.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        lber-decode
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/lber-memory.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        lber-memory
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/lber-sockbuf.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        lber-sockbuf
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/lber-types.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        lber-types
       </span>
       (3)
      </span>
     </a>
    </p>
   </div>
   <div class="refsect1">
    <a id="lber-encode-3_sect7" name="lber-encode-3_sect7" shape="rect">
    </a>
    <h2>
     ACKNOWLEDGEMENTS
    </h2>
    <p>
     <span class="emphasis">
      <em>
       OpenLDAP Software
      </em>
     </span>
     is developed and maintained by The OpenLDAP Project
      &lt;
     <a class="literalurl" href="http://www.openldap.org/" shape="rect" target="_top">
      http://www.openldap.org/
     </a>
     &gt;.
     <span class="emphasis">
      <em>
       OpenLDAP Software
      </em>
     </span>
     is derived from
      University of Michigan LDAP 3.3 Release.
    </p>
   </div>
  </div>
 </body>
</html>

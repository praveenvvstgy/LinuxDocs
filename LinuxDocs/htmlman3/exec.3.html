<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   exec(3) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="exec(3) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="exec.3" name="exec.3" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     execl, execlp, execle, execv, execvp, execvpe &mdash;
      execute a file
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">
#include &lt;unistd.h&gt;

extern char **environ;
</pre>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          execl
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         path
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         arg
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        <var class="pdparam">
         ...
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          execlp
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         file
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         arg
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        <var class="pdparam">
         ...
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          execle
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         path
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         arg
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        <var class="pdparam">
         ...
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        char * const
        <var class="pdparam">
         envp[]
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          execv
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         path
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        char *const
        <var class="pdparam">
         argv[]
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          execvp
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         file
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        char *const
        <var class="pdparam">
         argv[]
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          execvpe
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         file
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        char *const
        <var class="pdparam">
         argv[]
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        char *const
        <var class="pdparam">
         envp[]
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
     <table border="0" summary="Note">
      <tr>
       <td align="center" colspan="1" rowspan="2" valign="top" width="25">
        <img alt="[Note]" src="../stylesheet/note.png"/>
       </td>
       <th align="left" colspan="1" rowspan="1">
        Note
       </th>
      </tr>
      <tr>
       <td align="left" colspan="1" rowspan="1" valign="top">
        <div class="featuretests">
         <table style="border-collapse: collapse;">
          <colgroup span="1">
           <col span="1">
           </col>
          </colgroup>
          <thead>
           <tr>
            <th colspan="1" rowspan="1" style="">
             Feature Test Macro Requirements
                      for glibc (see
             <a class="link" href="../htmlman7/feature_test_macros.7.html" shape="rect" target="_top">
              <span class="citerefentry">
               <span class="refentrytitle">
                feature_test_macros
               </span>
               (7)
              </span>
             </a>
             ):
            </th>
           </tr>
          </thead>
          <tbody>
           <tr>
            <td colspan="1" rowspan="1" style="">
             <code class="function">
              execvpe
             </code>
             ():
            </td>
           </tr>
           <tr>
            <td class="featuretestdef" colspan="1" rowspan="1" style="">
             <code class="constant">
              _GNU_SOURCE
             </code>
            </td>
           </tr>
          </tbody>
         </table>
        </div>
       </td>
      </tr>
     </table>
    </div>
   </div>
   <div class="refsect1">
    <a id="exec-3_sect1" name="exec-3_sect1" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     The
     <code class="function">
      exec
     </code>
     () family of
      functions replaces the current process image with a new
      process image. The functions described in this manual page
      are front-ends for
     <a class="link" href="../htmlman2/execve.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        execve
       </span>
       (2)
      </span>
     </a>
     . (See the manual
      page for
     <a class="link" href="../htmlman2/execve.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        execve
       </span>
       (2)
      </span>
     </a>
     for further
      details about the replacement of the current process
      image.)
    </p>
    <p>
     The initial argument for these functions is the name of a
      file that is to be executed.
    </p>
    <p>
     The
     <span class="emphasis">
      <em>
       const char *arg
      </em>
     </span>
     and subsequent ellipses in the
     <code class="function">
      execl
     </code>
     (),
     <code class="function">
      execlp
     </code>
     (), and
     <code class="function">
      execle
     </code>
     () functions can be thought of as
     <em class="parameter">
      <code>
       arg0
      </code>
     </em>
     ,
     <em class="parameter">
      <code>
       arg1
      </code>
     </em>
     ,
     <em class="parameter">
      <code>
       ...
      </code>
     </em>
     ,
     <em class="parameter">
      <code>
       argn
      </code>
     </em>
     . Together they describe a
      list of one or more pointers to null-terminated strings that
      represent the argument list available to the executed
      program. The first argument, by convention, should point to
      the filename associated with the file being executed. The
      list of arguments
     <span class="emphasis">
      <em>
       must
      </em>
     </span>
     be terminated by a null pointer, and, since these are
      variadic functions, this pointer must be cast
     <span class="emphasis">
      <em>
       (char *) NULL
      </em>
     </span>
     .
    </p>
    <p>
     The
     <code class="function">
      execv
     </code>
     (),
     <code class="function">
      execvp
     </code>
     (), and
     <code class="function">
      execvpe
     </code>
     () functions provide an array of
      pointers to null-terminated strings that represent the
      argument list available to the new program. The first
      argument, by convention, should point to the filename
      associated with the file being executed. The array of
      pointers
     <span class="emphasis">
      <em>
       must
      </em>
     </span>
     be
      terminated by a null pointer.
    </p>
    <p>
     The
     <code class="function">
      execle
     </code>
     () and
     <code class="function">
      execvpe
     </code>
     () functions allow the
      caller to specify the environment of the executed program via
      the argument
     <em class="parameter">
      <code>
       envp
      </code>
     </em>
     .
      The
     <em class="parameter">
      <code>
       envp
      </code>
     </em>
     argument is
      an array of pointers to null-terminated strings and
     <span class="emphasis">
      <em>
       must
      </em>
     </span>
     be terminated by
      a null pointer. The other functions take the environment for
      the new process image from the external variable
     <code class="varname">
      environ
     </code>
     in the calling process.
    </p>
    <div class="refsect2">
     <a id="exec-3_sect2" name="exec-3_sect2" shape="rect">
     </a>
     <h3>
      Special semantics for execlp() and execvp()
     </h3>
     <p>
      The
      <code class="function">
       execlp
      </code>
      (),
      <code class="function">
       execvp
      </code>
      (), and
      <code class="function">
       execvpe
      </code>
      () functions duplicate the actions
        of the shell in searching for an executable file if the
        specified filename does not contain a slash (/) character.
        The file is sought in the colon-separated list of directory
        pathnames specified in the
      <code class="constant">
       PATH
      </code>
      environment variable. If this
        variable isn't defined, the path list defaults to the
        current directory followed by the list of directories
        returned by
      <em class="replaceable">
       <code>
        confstr(_CS_PATH)
       </code>
      </em>
      . (This
      <a class="link" href="../htmlman3/confstr.3.html" shape="rect" target="_top">
       <span class="citerefentry">
        <span class="refentrytitle">
         confstr
        </span>
        (3)
       </span>
      </a>
      call typically
        returns the value "/bin:/usr/bin".)
     </p>
     <p>
      If the specified filename includes a slash character,
        then
      <code class="constant">
       PATH
      </code>
      is ignored, and the
        file at the specified pathname is executed.
     </p>
     <p>
      In addition, certain errors are treated specially.
     </p>
     <p>
      If permission is denied for a file (the attempted
      <a class="link" href="../htmlman2/execve.2.html" shape="rect" target="_top">
       <span class="citerefentry">
        <span class="refentrytitle">
         execve
        </span>
        (2)
       </span>
      </a>
      failed with the
        error
      <span class="errorname">
       EACCES
      </span>
      ), these
        functions will continue searching the rest of the search
        path. If no other file is found, however, they will return
        with
      <code class="varname">
       errno
      </code>
      set to
      <span class="errorname">
       EACCES
      </span>
      .
     </p>
     <p>
      If the header of a file isn't recognized (the attempted
      <a class="link" href="../htmlman2/execve.2.html" shape="rect" target="_top">
       <span class="citerefentry">
        <span class="refentrytitle">
         execve
        </span>
        (2)
       </span>
      </a>
      failed with the
        error
      <span class="errorname">
       ENOEXEC
      </span>
      ), these
        functions will execute the shell (
      <code class="filename">
       /bin/sh
      </code>
      ) with the path of the file as its
        first argument. (If this attempt fails, no further
        searching is done.)
     </p>
    </div>
   </div>
   <div class="refsect1">
    <a id="exec-3_sect3" name="exec-3_sect3" shape="rect">
    </a>
    <h2>
     RETURN VALUE
    </h2>
    <p>
     The
     <code class="function">
      exec
     </code>
     () functions return
      only if an error has occurred. The return value is &minus;1,
      and
     <code class="varname">
      errno
     </code>
     is set to indicate the
      error.
    </p>
   </div>
   <div class="refsect1">
    <a id="exec-3_sect4" name="exec-3_sect4" shape="rect">
    </a>
    <h2>
     ERRORS
    </h2>
    <p>
     All of these functions may fail and set
     <code class="varname">
      errno
     </code>
     for any of the errors specified for
     <a class="link" href="../htmlman2/execve.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        execve
       </span>
       (2)
      </span>
     </a>
     .
    </p>
   </div>
   <div class="refsect1">
    <a id="exec-3_sect5" name="exec-3_sect5" shape="rect">
    </a>
    <h2>
     VERSIONS
    </h2>
    <p>
     The
     <code class="function">
      execvpe
     </code>
     () function first
      appeared in glibc 2.11.
    </p>
   </div>
   <div class="refsect1">
    <a id="exec-3_sect6" name="exec-3_sect6" shape="rect">
    </a>
    <h2>
     CONFORMING TO
    </h2>
    <p>
     POSIX.1-2001, POSIX.1-2008.
    </p>
    <p>
     The
     <code class="function">
      execvpe
     </code>
     () function is a
      GNU extension.
    </p>
   </div>
   <div class="refsect1">
    <a id="exec-3_sect7" name="exec-3_sect7" shape="rect">
    </a>
    <h2>
     NOTES
    </h2>
    <p>
     On some other systems, the default path (used when the
      environment does not contain the variable
     <code class="constant">
      PATH
     </code>
     ) has the current working directory
      listed after
     <code class="filename">
      /bin
     </code>
     and
     <code class="filename">
      /usr/bin
     </code>
     , as an
      anti-Trojan-horse measure. Linux uses here the traditional
      "current directory first" default path.
    </p>
    <p>
     The behavior of
     <code class="function">
      execlp
     </code>
     () and
     <code class="function">
      execvp
     </code>
     () when errors occur
      while attempting to execute the file is historic practice,
      but has not traditionally been documented and is not
      specified by the POSIX standard. BSD (and possibly other
      systems) do an automatic sleep and retry if
     <span class="errorname">
      ETXTBSY
     </span>
     is encountered. Linux treats it as
      a hard error and returns immediately.
    </p>
    <p>
     Traditionally, the functions
     <code class="function">
      execlp
     </code>
     () and
     <code class="function">
      execvp
     </code>
     () ignored all errors except for the
      ones described above and
     <span class="errorname">
      ENOMEM
     </span>
     and
     <span class="errorname">
      E2BIG
     </span>
     , upon which they returned. They now
      return if any error other than the ones described above
      occurs.
    </p>
   </div>
   <div class="refsect1">
    <a id="exec-3_sect8" name="exec-3_sect8" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <span class="citerefentry">
      <span class="refentrytitle">
       sh
      </span>
      (1)
     </span>
     ,
     <a class="link" href="../htmlman2/execve.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        execve
       </span>
       (2)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman2/fork.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        fork
       </span>
       (2)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman2/ptrace.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        ptrace
       </span>
       (2)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/fexecve.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        fexecve
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman7/environ.7.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        environ
       </span>
       (7)
      </span>
     </a>
    </p>
   </div>
   <div class="colophon">
    <a id="exec-3_sect9" name="exec-3_sect9" shape="rect">
    </a>
    <h2>
     COLOPHON
    </h2>
    <p>
     This page is part of release 3.72 of the Linux
     <em class="replaceable">
      <code>
       man-pages
      </code>
     </em>
     project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man&minus;pages/.
    </p>
   </div>
  </div>
 </body>
</html>

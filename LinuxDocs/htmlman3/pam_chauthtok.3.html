<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   pam_chauthtok(3) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="pam_chauthtok(3) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="pam-chauthtok.3" name="pam-chauthtok.3" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <a id="pam_chauthtok-name" name="pam_chauthtok-name" shape="rect">
    </a>
    <h2>
     Name
    </h2>
    <p>
     pam_chauthtok &mdash; updating authentication tokens
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="funcsynopsis">
     <a id="pam_chauthtok-synopsis" name="pam_chauthtok-synopsis" shape="rect">
     </a>
     <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;security/pam_appl.h&gt;
</pre>
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          pam_chauthtok
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        pam_handle_t *
        <var class="pdparam">
         pamh
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         flags
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
   </div>
   <div class="refsect1">
    <a id="pam_chauthtok-description" name="pam_chauthtok-description" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     The
     <code class="function">
      pam_chauthtok
     </code>
     function
      is used to change the authentication token for a given user
      (as indicated by the state associated with the handle
     <span class="emphasis">
      <em>
       pamh
      </em>
     </span>
     ).
    </p>
    <p>
     The
     <span class="emphasis">
      <em>
       pamh
      </em>
     </span>
     argument
      is an authentication handle obtained by a prior call to
      pam_start(). The flags argument is the binary or of zero or
      more of the following values:
    </p>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        PAM_SILENT
       </span>
      </dt>
      <dd>
       <p>
        Do not emit any messages.
       </p>
      </dd>
      <dt>
       <span class="term">
        PAM_CHANGE_EXPIRED_AUTHTOK
       </span>
      </dt>
      <dd>
       <p>
        This argument indicates to the modules that the
            users authentication token (password) should only be
            changed if it has expired. If this argument is not
            passed, the application requires that all
            authentication tokens are to be changed.
       </p>
      </dd>
     </dl>
    </div>
   </div>
   <div class="refsect1">
    <a id="pam_chauthtok-return_values" name="pam_chauthtok-return_values" shape="rect">
    </a>
    <h2>
     RETURN VALUES
    </h2>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        PAM_AUTHTOK_ERR
       </span>
      </dt>
      <dd>
       <p>
        A module was unable to obtain the new authentication
            token.
       </p>
      </dd>
      <dt>
       <span class="term">
        PAM_AUTHTOK_RECOVERY_ERR
       </span>
      </dt>
      <dd>
       <p>
        A module was unable to obtain the old authentication
            token.
       </p>
      </dd>
      <dt>
       <span class="term">
        PAM_AUTHTOK_LOCK_BUSY
       </span>
      </dt>
      <dd>
       <p>
        One or more of the modules was unable to change the
            authentication token since it is currently locked.
       </p>
      </dd>
      <dt>
       <span class="term">
        PAM_AUTHTOK_DISABLE_AGING
       </span>
      </dt>
      <dd>
       <p>
        Authentication token aging has been disabled for at
            least one of the modules.
       </p>
      </dd>
      <dt>
       <span class="term">
        PAM_PERM_DENIED
       </span>
      </dt>
      <dd>
       <p>
        Permission denied.
       </p>
      </dd>
      <dt>
       <span class="term">
        PAM_SUCCESS
       </span>
      </dt>
      <dd>
       <p>
        The authentication token was successfully
            updated.
       </p>
      </dd>
      <dt>
       <span class="term">
        PAM_TRY_AGAIN
       </span>
      </dt>
      <dd>
       <p>
        Not all of the modules were in a position to update
            the authentication token(s). In such a case none of the
            user's authentication tokens are updated.
       </p>
      </dd>
      <dt>
       <span class="term">
        PAM_USER_UNKNOWN
       </span>
      </dt>
      <dd>
       <p>
        User unknown to password service.
       </p>
      </dd>
     </dl>
    </div>
   </div>
   <div class="refsect1">
    <a id="pam_chauthtok-see_also" name="pam_chauthtok-see_also" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <a class="link" href="../htmlman3/pam_start.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        pam_start
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/pam_authenticate.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        pam_authenticate
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/pam_setcred.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        pam_setcred
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/pam_get_item.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        pam_get_item
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/pam_strerror.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        pam_strerror
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman8/pam.8.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        pam
       </span>
       (8)
      </span>
     </a>
    </p>
   </div>
  </div>
 </body>
</html>

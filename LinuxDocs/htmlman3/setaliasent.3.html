<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   setaliasent(3) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="setaliasent(3) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="setaliasent.3" name="setaliasent.3" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     setaliasent, endaliasent, getaliasent, getaliasent_r,
      getaliasbyname, getaliasbyname_r &mdash; read an alias
      entry
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="funcsynopsis">
     <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;aliases.h&gt;
</pre>
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         void
         <strong>
          setaliasent
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        <code>
         void)
        </code>
        ;
       </td>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         void
         <strong>
          endaliasent
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        <code>
         void)
        </code>
        ;
       </td>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         struct aliasent
            *
         <strong>
          getaliasent
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        <code>
         void)
        </code>
        ;
       </td>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          getaliasent_r
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        struct aliasent *
        <var class="pdparam">
         result
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        char *
        <var class="pdparam">
         buffer
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t
        <var class="pdparam">
         buflen
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        struct aliasent **
        <var class="pdparam">
         res
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         struct aliasent
            *
         <strong>
          getaliasbyname
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         name
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          getaliasbyname_r
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         name
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        struct aliasent *
        <var class="pdparam">
         result
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        char *
        <var class="pdparam">
         buffer
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t
        <var class="pdparam">
         buflen
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        struct aliasent **
        <var class="pdparam">
         res
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
   </div>
   <div class="refsect1">
    <a id="setaliasent-3_sect1" name="setaliasent-3_sect1" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     One of the databases available with the Name Service
      Switch (NSS) is the aliases database, that contains mail
      aliases. (To find out which databases are supported, try
     <span class="emphasis">
      <em>
       getent
      &minus;&minus;help
      </em>
     </span>
     .) Six functions are provided
      to access the aliases database.
    </p>
    <p>
     The
     <code class="function">
      getaliasent
     </code>
     () function
      returns a pointer to a structure containing the group
      information from the aliases database. The first time it is
      called it returns the first entry; thereafter, it returns
      successive entries.
    </p>
    <p>
     The
     <code class="function">
      setaliasent
     </code>
     () function
      rewinds the file pointer to the beginning of the aliases
      database.
    </p>
    <p>
     The
     <code class="function">
      endaliasent
     </code>
     () function
      closes the aliases database.
    </p>
    <p>
     <code class="function">
      getaliasent_r
     </code>
     () is the
      reentrant version of the previous function. The requested
      structure is stored via the first argument but the programmer
      needs to fill the other arguments also. Not providing enough
      space causes the function to fail.
    </p>
    <p>
     The function
     <code class="function">
      getaliasbyname
     </code>
     () takes the name argument
      and searches the aliases database. The entry is returned as a
      pointer to a
     <span class="emphasis">
      <em>
       struct
      aliasent
      </em>
     </span>
     .
    </p>
    <p>
     <code class="function">
      getaliasbyname_r
     </code>
     () is the
      reentrant version of the previous function. The requested
      structure is stored via the second argument but the
      programmer needs to fill the other arguments also. Not
      providing enough space causes the function to fail.
    </p>
    <p>
     The
     <span class="emphasis">
      <em>
       struct aliasent
      </em>
     </span>
     is defined in
     <code class="literal">
      &lt;
     </code>
     <code class="filename">
      aliases.h
     </code>
     <code class="literal">
      &gt;
     </code>
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <div class="structdef">
       <table style="border-collapse: collapse;">
        <colgroup span="1">
         <col class="c1" span="1">
         </col>
         <col class="c2" span="1">
         </col>
         <col class="c3" span="1">
         </col>
         <col class="c4" span="1">
         </col>
         <col class="c5" span="1">
         </col>
        </colgroup>
        <tbody>
         <tr>
          <td align="left" class="structdefhdr" colspan="1" rowspan="1" style="">
           struct
          </td>
          <td align="left" class="structdefhdr" colspan="4" rowspan="1" style="">
           <span class="structname">
            aliasent
           </span>
           &nbsp;{
          </td>
         </tr>
         <tr>
          <td colspan="1" rowspan="1" style="">
           &nbsp;
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           <span class="type">
            char
           </span>
          </td>
          <td align="right" class="norightpad" colspan="1" rowspan="1" style="">
           *
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           <em class="structfield">
            <code>
             alias_name
            </code>
           </em>
           ;
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           <div class="literallayout">
            /*&nbsp;alias&nbsp;name&nbsp;*/
           </div>
          </td>
         </tr>
         <tr>
          <td colspan="1" rowspan="1" style="">
           &nbsp;
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           <span class="type">
            size_t
           </span>
          </td>
          <td align="right" class="norightpad" colspan="1" rowspan="1" style="">
           &nbsp;
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           <em class="structfield">
            <code>
             alias_members_len
            </code>
           </em>
           ;
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           &nbsp;
          </td>
         </tr>
         <tr>
          <td colspan="1" rowspan="1" style="">
           &nbsp;
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           <span class="type">
            char
           </span>
          </td>
          <td align="right" class="norightpad" colspan="1" rowspan="1" style="">
           **
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           <em class="structfield">
            <code>
             alias_members
            </code>
           </em>
           ;
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           <div class="literallayout">
            /*&nbsp;alias&nbsp;name&nbsp;list&nbsp;*/
           </div>
          </td>
         </tr>
         <tr>
          <td colspan="1" rowspan="1" style="">
           &nbsp;
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           <span class="type">
            int
           </span>
          </td>
          <td align="right" class="norightpad" colspan="1" rowspan="1" style="">
           &nbsp;
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           <em class="structfield">
            <code>
             alias_local
            </code>
           </em>
           ;
          </td>
          <td align="left" colspan="1" rowspan="1" style="">
           &nbsp;
          </td>
         </tr>
         <tr>
          <td align="left" class="structdefftr" colspan="5" rowspan="1" style="">
           };
          </td>
         </tr>
        </tbody>
       </table>
      </div>
     </blockquote>
    </div>
   </div>
   <div class="refsect1">
    <a id="setaliasent-3_sect2" name="setaliasent-3_sect2" shape="rect">
    </a>
    <h2>
     RETURN VALUE
    </h2>
    <p>
     The functions
     <code class="function">
      getaliasent_r
     </code>
     () and
     <code class="function">
      getaliasbyname_r
     </code>
     () return a nonzero value
      on error.
    </p>
   </div>
   <div class="refsect1">
    <a id="setaliasent-3_sect3" name="setaliasent-3_sect3" shape="rect">
    </a>
    <h2>
     FILES
    </h2>
    <p>
     The default alias database is the file
     <code class="filename">
      /etc/aliases
     </code>
     . This can be changed in the
     <code class="filename">
      /etc/nsswitch.conf
     </code>
     file.
    </p>
   </div>
   <div class="refsect1">
    <a id="setaliasent-3_sect4" name="setaliasent-3_sect4" shape="rect">
    </a>
    <h2>
     CONFORMING TO
    </h2>
    <p>
     These routines are glibc-specific. The NeXT system has
      similar routines:
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <div class="informalexample">
       <pre class="programlisting" xml:space="preserve">
#include &lt;aliasdb.h&gt;

void alias_setent(void);
void alias_endent(void);
alias_ent *alias_getent(void);
alias_ent *alias_getbyname(char *name);
</pre>
      </div>
     </blockquote>
    </div>
   </div>
   <div class="refsect1">
    <a id="setaliasent-3_sect5" name="setaliasent-3_sect5" shape="rect">
    </a>
    <h2>
     EXAMPLE
    </h2>
    <p>
     The following example compiles with
     <span class="emphasis">
      <em>
       gcc example.c &minus;o example
      </em>
     </span>
     . It
      will dump all names in the alias database.
    </p>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">
#include &lt;aliases.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;errno.h&gt;

int
main(void)
{
    struct aliasent *al;
    setaliasent();
    for (;;) {
        al = getaliasent();
        if (al == NULL)
            break;
        printf("Name: %s\n", al&minus;&gt;alias_name);
    }
    if (errno) {
        perror("reading alias");
        exit(EXIT_FAILURE);
    }
    endaliasent();
    exit(EXIT_SUCCESS);
}
</pre>
    </div>
   </div>
   <div class="refsect1">
    <a id="setaliasent-3_sect6" name="setaliasent-3_sect6" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <a class="link" href="../htmlman3/getgrent.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        getgrent
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/getpwent.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        getpwent
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/getspnam.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        getspent
       </span>
       (3)
      </span>
     </a>
     ,
     <span class="citerefentry">
      <span class="refentrytitle">
       aliases
      </span>
      (5)
     </span>
    </p>
   </div>
   <div class="colophon">
    <a id="setaliasent-3_sect7" name="setaliasent-3_sect7" shape="rect">
    </a>
    <h2>
     COLOPHON
    </h2>
    <p>
     This page is part of release 3.72 of the Linux
     <em class="replaceable">
      <code>
       man-pages
      </code>
     </em>
     project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man&minus;pages/.
    </p>
   </div>
  </div>
 </body>
</html>

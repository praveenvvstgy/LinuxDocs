<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   getspnam(3) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="getspnam(3) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="getspnam.3" name="getspnam.3" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     getspnam, getspnam_r, getspent, getspent_r, setspent,
      endspent, fgetspent, fgetspent_r, sgetspent, sgetspent_r,
      putspent, lckpwdf, ulckpwdf &mdash; get shadow password file
      entry
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">
/* General shadow password file API */
#include &lt;shadow.h&gt;
</pre>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         struct spwd
            *
         <strong>
          getspnam
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         name
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         struct spwd
            *
         <strong>
          getspent
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        <code>
         void)
        </code>
        ;
       </td>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         void
         <strong>
          setspent
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        <code>
         void)
        </code>
        ;
       </td>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         void
         <strong>
          endspent
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        <code>
         void)
        </code>
        ;
       </td>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         struct spwd
            *
         <strong>
          fgetspent
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        FILE *
        <var class="pdparam">
         fp
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         struct spwd
            *
         <strong>
          sgetspent
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         s
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          putspent
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const struct spwd *
        <var class="pdparam">
         p
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        FILE *
        <var class="pdparam">
         fp
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          lckpwdf
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        <code>
         void)
        </code>
        ;
       </td>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          ulckpwdf
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        <code>
         void)
        </code>
        ;
       </td>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">

/* GNU extension */
#include &lt;shadow.h&gt;
</pre>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          getspent_r
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        struct spwd *
        <var class="pdparam">
         spbuf
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        char *
        <var class="pdparam">
         buf
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t
        <var class="pdparam">
         buflen
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        struct spwd **
        <var class="pdparam">
         spbufp
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          getspnam_r
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         name
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        struct spwd *
        <var class="pdparam">
         spbuf
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        char *
        <var class="pdparam">
         buf
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t
        <var class="pdparam">
         buflen
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        struct spwd **
        <var class="pdparam">
         spbufp
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          fgetspent_r
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        FILE *
        <var class="pdparam">
         fp
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        struct spwd *
        <var class="pdparam">
         spbuf
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        char *
        <var class="pdparam">
         buf
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t
        <var class="pdparam">
         buflen
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        struct spwd **
        <var class="pdparam">
         spbufp
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          sgetspent_r
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         s
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        struct spwd *
        <var class="pdparam">
         spbuf
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        char *
        <var class="pdparam">
         buf
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t
        <var class="pdparam">
         buflen
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        struct spwd **
        <var class="pdparam">
         spbufp
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
     <table border="0" summary="Note">
      <tr>
       <td align="center" colspan="1" rowspan="2" valign="top" width="25">
        <img alt="[Note]" src="../stylesheet/note.png"/>
       </td>
       <th align="left" colspan="1" rowspan="1">
        Note
       </th>
      </tr>
      <tr>
       <td align="left" colspan="1" rowspan="1" valign="top">
        <div class="featuretests">
         <table style="border-collapse: collapse;">
          <colgroup span="1">
           <col span="1">
           </col>
          </colgroup>
          <thead>
           <tr>
            <th colspan="1" rowspan="1" style="">
             Feature Test Macro Requirements
                      for glibc (see
             <a class="link" href="../htmlman7/feature_test_macros.7.html" shape="rect" target="_top">
              <span class="citerefentry">
               <span class="refentrytitle">
                feature_test_macros
               </span>
               (7)
              </span>
             </a>
             ):
            </th>
           </tr>
          </thead>
          <tbody>
           <tr>
            <td colspan="1" rowspan="1" style="">
             <code class="function">
              getspent_r
             </code>
             (),
             <code class="function">
              getspnam_r
             </code>
             (),
             <code class="function">
              fgetspent_r
             </code>
             (),
             <code class="function">
              sgetspent_r
             </code>
             ():
            </td>
           </tr>
           <tr>
            <td class="featuretestdef" colspan="1" rowspan="1" style="">
             <code class="constant">
              _BSD_SOURCE
             </code>
             ||
             <code class="constant">
              _SVID_SOURCE
             </code>
            </td>
           </tr>
          </tbody>
         </table>
        </div>
       </td>
      </tr>
     </table>
    </div>
   </div>
   <div class="refsect1">
    <a id="getspnam-3_sect1" name="getspnam-3_sect1" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     Long ago it was considered safe to have encrypted
      passwords openly visible in the password file. When computers
      got faster and people got more security-conscious, this was
      no longer acceptable. Julianne Frances Haugh implemented the
      shadow password suite that keeps the encrypted passwords in
      the shadow password database (e.g., the local shadow password
      file
     <code class="filename">
      /etc/shadow
     </code>
     , NIS, and
      LDAP), readable only by root.
    </p>
    <p>
     The functions described below resemble those for the
      traditional password database (e.g., see
     <a class="link" href="../htmlman3/getpwnam.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        getpwnam
       </span>
       (3)
      </span>
     </a>
     and
     <a class="link" href="../htmlman3/getpwent.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        getpwent
       </span>
       (3)
      </span>
     </a>
     ).
    </p>
    <p>
     The
     <code class="function">
      getspnam
     </code>
     () function
      returns a pointer to a structure containing the broken-out
      fields of the record in the shadow password database that
      matches the username
     <em class="parameter">
      <code>
       name
      </code>
     </em>
     .
    </p>
    <p>
     The
     <code class="function">
      getspent
     </code>
     () function
      returns a pointer to the next entry in the shadow password
      database. The position in the input stream is initialized by
     <code class="function">
      setspent
     </code>
     (). When done reading,
      the program may call
     <code class="function">
      endspent
     </code>
     ()
      so that resources can be deallocated.
    </p>
    <p>
     The
     <code class="function">
      fgetspent
     </code>
     () function is
      similar to
     <code class="function">
      getspent
     </code>
     () but uses
      the supplied stream instead of the one implicitly opened by
     <code class="function">
      setspent
     </code>
     ().
    </p>
    <p>
     The
     <code class="function">
      sgetspent
     </code>
     () function
      parses the supplied string
     <em class="parameter">
      <code>
       s
      </code>
     </em>
     into a struct
     <span class="structname">
      spwd
     </span>
     .
    </p>
    <p>
     The
     <code class="function">
      putspent
     </code>
     () function
      writes the contents of the supplied struct
     <span class="structname">
      spwd
     </span>
     *
     <em class="parameter">
      <code>
       p
      </code>
     </em>
     as a text line in the shadow
      password file format to the stream
     <em class="parameter">
      <code>
       fp
      </code>
     </em>
     . String entries with value
      NULL and numerical entries with value &minus;1 are written as
      an empty string.
    </p>
    <p>
     The
     <code class="function">
      lckpwdf
     </code>
     () function is
      intended to protect against multiple simultaneous accesses of
      the shadow password database. It tries to acquire a lock, and
      returns 0 on success, or &minus;1 on failure (lock not
      obtained within 15 seconds). The
     <code class="function">
      ulckpwdf
     </code>
     () function releases the lock
      again. Note that there is no protection against direct access
      of the shadow password file. Only programs that use
     <code class="function">
      lckpwdf
     </code>
     () will notice the
      lock.
    </p>
    <p>
     These were the functions that formed the original shadow
      API. They are widely available.
    </p>
    <div class="refsect2">
     <a id="getspnam-3_sect2" name="getspnam-3_sect2" shape="rect">
     </a>
     <h3>
      Reentrant versions
     </h3>
     <p>
      Analogous to the reentrant functions for the password
        database, glibc also has reentrant functions for the shadow
        password database. The
      <code class="function">
       getspnam_r
      </code>
      () function is like
      <code class="function">
       getspnam
      </code>
      () but stores the
        retrieved shadow password structure in the space pointed to
        by
      <em class="parameter">
       <code>
        spbuf
       </code>
      </em>
      . This
        shadow password structure contains pointers to strings, and
        these strings are stored in the buffer
      <em class="parameter">
       <code>
        buf
       </code>
      </em>
      of size
      <em class="parameter">
       <code>
        buflen
       </code>
      </em>
      . A pointer to the
        result (in case of success) or NULL (in case no entry was
        found or an error occurred) is stored in *
      <em class="parameter">
       <code>
        spbufp
       </code>
      </em>
      .
     </p>
     <p>
      The functions
      <code class="function">
       getspent_r
      </code>
      (),
      <code class="function">
       fgetspent_r
      </code>
      (), and
      <code class="function">
       sgetspent_r
      </code>
      () are similarly analogous to
        their nonreentrant counterparts.
     </p>
     <p>
      Some non-glibc systems also have functions with these
        names, often with different prototypes.
     </p>
    </div>
    <div class="refsect2">
     <a id="getspnam-3_sect3" name="getspnam-3_sect3" shape="rect">
     </a>
     <h3>
      Structure
     </h3>
     <p>
      The shadow password structure is defined in
      <code class="literal">
       &lt;
      </code>
      <code class="filename">
       shadow.h
      </code>
      <code class="literal">
       &gt;
      </code>
      as follows:
     </p>
     <div class="blockquote">
      <blockquote class="blockquote">
       <div class="structdef">
        <table style="border-collapse: collapse;">
         <colgroup span="1">
          <col class="c1" span="1">
          </col>
          <col class="c2" span="1">
          </col>
          <col class="c3" span="1">
          </col>
          <col class="c4" span="1">
          </col>
          <col class="c5" span="1">
          </col>
         </colgroup>
         <tbody>
          <tr>
           <td align="left" class="structdefhdr" colspan="1" rowspan="1" style="">
            struct
           </td>
           <td align="left" class="structdefhdr" colspan="4" rowspan="1" style="">
            <span class="structname">
             spwd
            </span>
            &nbsp;{
           </td>
          </tr>
          <tr>
           <td colspan="1" rowspan="1" style="">
            &nbsp;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <span class="type">
             char
            </span>
           </td>
           <td align="right" class="norightpad" colspan="1" rowspan="1" style="">
            *
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <em class="structfield">
             <code>
              sp_namp
             </code>
            </em>
            ;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <div class="literallayout">
             /*&nbsp;Login&nbsp;name&nbsp;*/
            </div>
           </td>
          </tr>
          <tr>
           <td colspan="1" rowspan="1" style="">
            &nbsp;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <span class="type">
             char
            </span>
           </td>
           <td align="right" class="norightpad" colspan="1" rowspan="1" style="">
            *
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <em class="structfield">
             <code>
              sp_pwdp
             </code>
            </em>
            ;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <div class="literallayout">
             /*&nbsp;Encrypted&nbsp;password&nbsp;*/
            </div>
           </td>
          </tr>
          <tr>
           <td colspan="1" rowspan="1" style="">
            &nbsp;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <span class="type">
             long
            </span>
           </td>
           <td align="right" class="norightpad" colspan="1" rowspan="1" style="">
            &nbsp;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <em class="structfield">
             <code>
              sp_lstchg
             </code>
            </em>
            ;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <div class="literallayout">
             /*&nbsp;Date&nbsp;of&nbsp;last&nbsp;change
             <br/>
             (measured&nbsp;in&nbsp;days&nbsp;since
             <br/>
             1970-01-01&nbsp;00:00:00&nbsp;+0000&nbsp;(UTC))&nbsp;*/
            </div>
           </td>
          </tr>
          <tr>
           <td colspan="1" rowspan="1" style="">
            &nbsp;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <span class="type">
             long
            </span>
           </td>
           <td align="right" class="norightpad" colspan="1" rowspan="1" style="">
            &nbsp;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <em class="structfield">
             <code>
              sp_min
             </code>
            </em>
            ;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <div class="literallayout">
             /*&nbsp;Min&nbsp;#&nbsp;of&nbsp;days&nbsp;between&nbsp;changes&nbsp;*/
            </div>
           </td>
          </tr>
          <tr>
           <td colspan="1" rowspan="1" style="">
            &nbsp;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <span class="type">
             long
            </span>
           </td>
           <td align="right" class="norightpad" colspan="1" rowspan="1" style="">
            &nbsp;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <em class="structfield">
             <code>
              sp_max
             </code>
            </em>
            ;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <div class="literallayout">
             /*&nbsp;Max&nbsp;#&nbsp;of&nbsp;days&nbsp;between&nbsp;changes&nbsp;*/
            </div>
           </td>
          </tr>
          <tr>
           <td colspan="1" rowspan="1" style="">
            &nbsp;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <span class="type">
             long
            </span>
           </td>
           <td align="right" class="norightpad" colspan="1" rowspan="1" style="">
            &nbsp;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <em class="structfield">
             <code>
              sp_warn
             </code>
            </em>
            ;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <div class="literallayout">
             /*&nbsp;#&nbsp;of&nbsp;days&nbsp;before&nbsp;password&nbsp;expires
             <br/>
             to&nbsp;warn&nbsp;user&nbsp;to&nbsp;change&nbsp;it&nbsp;*/
            </div>
           </td>
          </tr>
          <tr>
           <td colspan="1" rowspan="1" style="">
            &nbsp;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <span class="type">
             long
            </span>
           </td>
           <td align="right" class="norightpad" colspan="1" rowspan="1" style="">
            &nbsp;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <em class="structfield">
             <code>
              sp_inact
             </code>
            </em>
            ;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <div class="literallayout">
             /*&nbsp;#&nbsp;of&nbsp;days&nbsp;after&nbsp;password&nbsp;expires
             <br/>
             until&nbsp;account&nbsp;is&nbsp;disabled&nbsp;*/
            </div>
           </td>
          </tr>
          <tr>
           <td colspan="1" rowspan="1" style="">
            &nbsp;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <span class="type">
             long
            </span>
           </td>
           <td align="right" class="norightpad" colspan="1" rowspan="1" style="">
            &nbsp;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <em class="structfield">
             <code>
              sp_expire
             </code>
            </em>
            ;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <div class="literallayout">
             /*&nbsp;Date&nbsp;when&nbsp;account&nbsp;expires
             <br/>
             (measured&nbsp;in&nbsp;days&nbsp;since
             <br/>
             1970-01-01&nbsp;00:00:00&nbsp;+0000&nbsp;(UTC))&nbsp;*/
            </div>
           </td>
          </tr>
          <tr>
           <td colspan="1" rowspan="1" style="">
            &nbsp;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <span class="type">
             unsigned&nbsp;long
            </span>
           </td>
           <td align="right" class="norightpad" colspan="1" rowspan="1" style="">
            &nbsp;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <em class="structfield">
             <code>
              sp_flag
             </code>
            </em>
            ;
           </td>
           <td align="left" colspan="1" rowspan="1" style="">
            <div class="literallayout">
             /*&nbsp;Reserved&nbsp;*/
            </div>
           </td>
          </tr>
          <tr>
           <td align="left" class="structdefftr" colspan="5" rowspan="1" style="">
            };
           </td>
          </tr>
         </tbody>
        </table>
       </div>
      </blockquote>
     </div>
    </div>
   </div>
   <div class="refsect1">
    <a id="getspnam-3_sect4" name="getspnam-3_sect4" shape="rect">
    </a>
    <h2>
     RETURN VALUE
    </h2>
    <p>
     The functions that return a pointer return NULL if no more
      entries are available or if an error occurs during
      processing. The functions which have
     <span class="type">
      int
     </span>
     as the return value return 0 for success
      and &minus;1 for failure, with
     <code class="varname">
      errno
     </code>
     set to indicate the cause of the
      error.
    </p>
    <p>
     For the nonreentrant functions, the return value may point
      to static area, and may be overwritten by subsequent calls to
      these functions.
    </p>
    <p>
     The reentrant functions return zero on success. In case of
      error, an error number is returned.
    </p>
   </div>
   <div class="refsect1">
    <a id="getspnam-3_sect5" name="getspnam-3_sect5" shape="rect">
    </a>
    <h2>
     ERRORS
    </h2>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        <span class="errorname">
         EACCES
        </span>
       </span>
      </dt>
      <dd>
       <p>
        The caller does not have permission to access the
            shadow password file.
       </p>
      </dd>
      <dt>
       <span class="term">
        <span class="errorname">
         ERANGE
        </span>
       </span>
      </dt>
      <dd>
       <p>
        Supplied buffer is too small.
       </p>
      </dd>
     </dl>
    </div>
   </div>
   <div class="refsect1">
    <a id="getspnam-3_sect6" name="getspnam-3_sect6" shape="rect">
    </a>
    <h2>
     FILES
    </h2>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        <code class="filename">
         /etc/shadow
        </code>
       </span>
      </dt>
      <dd>
       <p>
        local shadow password database file
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="filename">
         /etc/.pwd.lock
        </code>
       </span>
      </dt>
      <dd>
       <p>
        lock file
       </p>
      </dd>
     </dl>
    </div>
    <p>
     The include file
     <code class="literal">
      &lt;
     </code>
     <code class="filename">
      paths.h
     </code>
     <code class="literal">
      &gt;
     </code>
     defines the constant
     <code class="constant">
      _PATH_SHADOW
     </code>
     to the pathname of the shadow
      password file.
    </p>
   </div>
   <div class="refsect1">
    <a id="getspnam-3_sect7" name="getspnam-3_sect7" shape="rect">
    </a>
    <h2>
     CONFORMING TO
    </h2>
    <p>
     The shadow password database and its associated API are
      not specified in POSIX.1-2001. However, many other systems
      provide a similar API.
    </p>
   </div>
   <div class="refsect1">
    <a id="getspnam-3_sect8" name="getspnam-3_sect8" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <a class="link" href="../htmlman3/getgrnam.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        getgrnam
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/getpwnam.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        getpwnam
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/getpwnam.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        getpwnam_r
       </span>
       (3)
      </span>
     </a>
     ,
     <span class="citerefentry">
      <span class="refentrytitle">
       shadow
      </span>
      (5)
     </span>
    </p>
   </div>
   <div class="colophon">
    <a id="getspnam-3_sect9" name="getspnam-3_sect9" shape="rect">
    </a>
    <h2>
     COLOPHON
    </h2>
    <p>
     This page is part of release 3.72 of the Linux
     <em class="replaceable">
      <code>
       man-pages
      </code>
     </em>
     project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man&minus;pages/.
    </p>
   </div>
  </div>
 </body>
</html>

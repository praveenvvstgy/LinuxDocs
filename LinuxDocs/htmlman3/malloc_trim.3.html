<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   malloc_trim(3) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="malloc_trim(3) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="malloc-trim.3" name="malloc-trim.3" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     malloc_trim &mdash; release free memory from the top of
      the heap
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="funcsynopsis">
     <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;malloc.h&gt;
</pre>
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          malloc_trim
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        size_t
        <var class="pdparam">
         pad
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
   </div>
   <div class="refsect1">
    <a id="malloc-trim-3_sect1" name="malloc-trim-3_sect1" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     The
     <code class="function">
      malloc_trim
     </code>
     () function
      attempts to release free memory at the top of the heap (by
      calling
     <a class="link" href="../htmlman2/brk.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        sbrk
       </span>
       (2)
      </span>
     </a>
     with a suitable
      argument).
    </p>
    <p>
     The
     <em class="parameter">
      <code>
       pad
      </code>
     </em>
     argument
      specifies the amount of free space to leave untrimmed at the
      top of the heap. If this argument is 0, only the minimum
      amount of memory is maintained at the top of the heap (i.e.,
      one page or less). A nonzero argument can be used to maintain
      some trailing space at the top of the heap in order to allow
      future allocations to be made without having to extend the
      heap with
     <a class="link" href="../htmlman2/brk.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        sbrk
       </span>
       (2)
      </span>
     </a>
     .
    </p>
   </div>
   <div class="refsect1">
    <a id="malloc-trim-3_sect2" name="malloc-trim-3_sect2" shape="rect">
    </a>
    <h2>
     RETURN VALUE
    </h2>
    <p>
     The
     <code class="function">
      malloc_trim
     </code>
     () function
      returns 1 if memory was actually released back to the system,
      or 0 if it was not possible to release any memory.
    </p>
   </div>
   <div class="refsect1">
    <a id="malloc-trim-3_sect3" name="malloc-trim-3_sect3" shape="rect">
    </a>
    <h2>
     ERRORS
    </h2>
    <p>
     No errors are defined.
    </p>
   </div>
   <div class="refsect1">
    <a id="malloc-trim-3_sect4" name="malloc-trim-3_sect4" shape="rect">
    </a>
    <h2>
     CONFORMING TO
    </h2>
    <p>
     This function is a GNU extension.
    </p>
   </div>
   <div class="refsect1">
    <a id="malloc-trim-3_sect5" name="malloc-trim-3_sect5" shape="rect">
    </a>
    <h2>
     NOTES
    </h2>
    <p>
     This function is automatically called by
     <a class="link" href="../htmlman3/malloc.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        free
       </span>
       (3)
      </span>
     </a>
     in certain
      circumstances; see the discussion of
     <code class="constant">
      M_TOP_PAD
     </code>
     and
     <code class="constant">
      M_TRIM_THRESHOLD
     </code>
     in
     <a class="link" href="../htmlman3/mallopt.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        mallopt
       </span>
       (3)
      </span>
     </a>
     .
    </p>
    <p>
     This function cannot release free memory located at places
      other than the top of the heap.
    </p>
    <p>
     This function releases only memory in the main arena.
    </p>
   </div>
   <div class="refsect1">
    <a id="malloc-trim-3_sect6" name="malloc-trim-3_sect6" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <a class="link" href="../htmlman2/brk.2.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        sbrk
       </span>
       (2)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/malloc.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        malloc
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/mallopt.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        mallopt
       </span>
       (3)
      </span>
     </a>
    </p>
   </div>
   <div class="colophon">
    <a id="malloc-trim-3_sect7" name="malloc-trim-3_sect7" shape="rect">
    </a>
    <h2>
     COLOPHON
    </h2>
    <p>
     This page is part of release 3.72 of the Linux
     <em class="replaceable">
      <code>
       man-pages
      </code>
     </em>
     project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man&minus;pages/.
    </p>
   </div>
  </div>
 </body>
</html>

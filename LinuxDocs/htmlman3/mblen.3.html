<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   mblen(3) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="mblen(3) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="mblen.3" name="mblen.3" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     mblen &mdash; determine number of bytes in next multibyte
      character
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="funcsynopsis">
     <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;stdlib.h&gt;
</pre>
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          mblen
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         s
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t
        <var class="pdparam">
         n
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
   </div>
   <div class="refsect1">
    <a id="mblen-3_sect1" name="mblen-3_sect1" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     If
     <em class="parameter">
      <code>
       s
      </code>
     </em>
     is not NULL,
      the
     <code class="function">
      mblen
     </code>
     () function inspects
      at most
     <em class="parameter">
      <code>
       n
      </code>
     </em>
     bytes of
      the multibyte string starting at
     <em class="parameter">
      <code>
       s
      </code>
     </em>
     and extracts the next
      complete multibyte character. It uses a static anonymous
      shift state known only to the
     <code class="function">
      mblen
     </code>
     () function. If the multibyte
      character is not the null wide character, it returns the
      number of bytes that were consumed from
     <em class="parameter">
      <code>
       s
      </code>
     </em>
     . If the multibyte character
      is the null wide character, it returns 0.
    </p>
    <p>
     If the
     <em class="parameter">
      <code>
       n
      </code>
     </em>
     bytes
      starting at
     <em class="parameter">
      <code>
       s
      </code>
     </em>
     do not
      contain a complete multibyte character,
     <code class="function">
      mblen
     </code>
     () returns &minus;1. This can happen
      even if
     <em class="parameter">
      <code>
       n
      </code>
     </em>
     is greater
      than or equal to
     <code class="constant">
      MB_CUR_MAX
     </code>
     , if
      the multibyte string contains redundant shift sequences.
    </p>
    <p>
     If the multibyte string starting at
     <em class="parameter">
      <code>
       s
      </code>
     </em>
     contains an invalid multibyte
      sequence before the next complete character,
     <code class="function">
      mblen
     </code>
     () also returns &minus;1.
    </p>
    <p>
     If
     <em class="parameter">
      <code>
       s
      </code>
     </em>
     is NULL, the
     <code class="function">
      mblen
     </code>
     () function resets the
      shift state, known to only this function, to the initial
      state, and returns nonzero if the encoding has nontrivial
      shift state, or zero if the encoding is stateless.
    </p>
   </div>
   <div class="refsect1">
    <a id="mblen-3_sect2" name="mblen-3_sect2" shape="rect">
    </a>
    <h2>
     RETURN VALUE
    </h2>
    <p>
     The
     <code class="function">
      mblen
     </code>
     () function returns
      the number of bytes parsed from the multibyte sequence
      starting at
     <em class="parameter">
      <code>
       s
      </code>
     </em>
     , if a
      non-null wide character was recognized. It returns 0, if a
      null wide character was recognized. It returns &minus;1, if
      an invalid multibyte sequence was encountered or if it
      couldn't parse a complete multibyte character.
    </p>
   </div>
   <div class="refsect1">
    <a id="mblen-3_sect3" name="mblen-3_sect3" shape="rect">
    </a>
    <h2>
     ATTRIBUTES
    </h2>
    <div class="refsect2">
     <a id="mblen-3_sect4" name="mblen-3_sect4" shape="rect">
     </a>
     <h3>
      Multithreading (see pthreads(7))
     </h3>
     <p>
      The
      <code class="function">
       mblen
      </code>
      () function is
        not thread-safe.
     </p>
    </div>
   </div>
   <div class="refsect1">
    <a id="mblen-3_sect5" name="mblen-3_sect5" shape="rect">
    </a>
    <h2>
     CONFORMING TO
    </h2>
    <p>
     C99.
    </p>
   </div>
   <div class="refsect1">
    <a id="mblen-3_sect6" name="mblen-3_sect6" shape="rect">
    </a>
    <h2>
     NOTES
    </h2>
    <p>
     The behavior of
     <code class="function">
      mblen
     </code>
     ()
      depends on the
     <code class="constant">
      LC_CTYPE
     </code>
     category of the current locale.
    </p>
    <p>
     The function
     <a class="link" href="../htmlman3/mbrlen.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        mbrlen
       </span>
       (3)
      </span>
     </a>
     provides a better
      interface to the same functionality.
    </p>
   </div>
   <div class="refsect1">
    <a id="mblen-3_sect7" name="mblen-3_sect7" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <a class="link" href="../htmlman3/mbrlen.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        mbrlen
       </span>
       (3)
      </span>
     </a>
    </p>
   </div>
   <div class="colophon">
    <a id="mblen-3_sect8" name="mblen-3_sect8" shape="rect">
    </a>
    <h2>
     COLOPHON
    </h2>
    <p>
     This page is part of release 3.72 of the Linux
     <em class="replaceable">
      <code>
       man-pages
      </code>
     </em>
     project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man&minus;pages/.
    </p>
   </div>
  </div>
 </body>
</html>

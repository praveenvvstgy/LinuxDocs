<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   inet(3) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="inet(3) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="inet.3" name="inet.3" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     inet_aton, inet_addr, inet_network, inet_ntoa,
      inet_makeaddr, inet_lnaof, inet_netof &mdash; Internet
      address manipulation routines
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="informalexample">
     <pre class="programlisting" xml:space="preserve">
#include &lt;sys/socket.h&gt;
#include &lt;netinet/in.h&gt;
#include &lt;arpa/inet.h&gt;
</pre>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         int
         <strong>
          inet_aton
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         cp
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        struct in_addr *
        <var class="pdparam">
         inp
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         in_addr_t
         <strong>
          inet_addr
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         cp
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         in_addr_t
         <strong>
          inet_network
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         cp
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         char
            *
         <strong>
          inet_ntoa
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        struct in_addr
        <var class="pdparam">
         in
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         struct in_addr
         <strong>
          inet_makeaddr
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        in_addr_t
        <var class="pdparam">
         net
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        in_addr_t
        <var class="pdparam">
         host
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         in_addr_t
         <strong>
          inet_lnaof
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        struct in_addr
        <var class="pdparam">
         in
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         in_addr_t
         <strong>
          inet_netof
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        struct in_addr
        <var class="pdparam">
         in
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
     <table border="0" summary="Note">
      <tr>
       <td align="center" colspan="1" rowspan="2" valign="top" width="25">
        <img alt="[Note]" src="../stylesheet/note.png"/>
       </td>
       <th align="left" colspan="1" rowspan="1">
        Note
       </th>
      </tr>
      <tr>
       <td align="left" colspan="1" rowspan="1" valign="top">
        <div class="featuretests">
         <table style="border-collapse: collapse;">
          <colgroup span="1">
           <col span="1">
           </col>
          </colgroup>
          <thead>
           <tr>
            <th colspan="1" rowspan="1" style="">
             Feature Test Macro Requirements
                      for glibc (see
             <a class="link" href="../htmlman7/feature_test_macros.7.html" shape="rect" target="_top">
              <span class="citerefentry">
               <span class="refentrytitle">
                feature_test_macros
               </span>
               (7)
              </span>
             </a>
             ):
            </th>
           </tr>
          </thead>
          <tbody>
           <tr>
            <td colspan="1" rowspan="1" style="">
             <code class="function">
              inet_aton
             </code>
             (),
             <code class="function">
              inet_ntoa
             </code>
             ():
            </td>
           </tr>
           <tr>
            <td class="featuretestdef" colspan="1" rowspan="1" style="">
             <code class="constant">
              _BSD_SOURCE
             </code>
             ||
             <code class="constant">
              _SVID_SOURCE
             </code>
            </td>
           </tr>
          </tbody>
         </table>
        </div>
       </td>
      </tr>
     </table>
    </div>
   </div>
   <div class="refsect1">
    <a id="inet-3_sect1" name="inet-3_sect1" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     <code class="function">
      inet_aton
     </code>
     () converts the
      Internet host address
     <em class="parameter">
      <code>
       cp
      </code>
     </em>
     from the IPv4
      numbers-and-dots notation into binary form (in network byte
      order) and stores it in the structure that
     <em class="parameter">
      <code>
       inp
      </code>
     </em>
     points to.
     <code class="function">
      inet_aton
     </code>
     () returns nonzero if the address
      is valid, zero if not. The address supplied in
     <em class="parameter">
      <code>
       cp
      </code>
     </em>
     can have one of the
      following forms:
    </p>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        <em class="replaceable">
         <code>
          a.b.c.d
         </code>
        </em>
       </span>
      </dt>
      <dd>
       <p>
        Each of the four numeric parts specifies a byte of
            the address; the bytes are assigned in left-to-right
            order to produce the binary address.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="filename">
         a.b.c
        </code>
       </span>
      </dt>
      <dd>
       <p>
        Parts
        <code class="literal">
         a
        </code>
        and
        <code class="literal">
         b
        </code>
        specify the first two
            bytes of the binary address. Part
        <code class="literal">
         c
        </code>
        is interpreted as a 16-bit value
            that defines the rightmost two bytes of the binary
            address. This notation is suitable for specifying
            (outmoded) Class B network addresses.
       </p>
      </dd>
      <dt>
       <span class="term">
        <em class="replaceable">
         <code>
          a.b
         </code>
        </em>
       </span>
      </dt>
      <dd>
       <p>
        Part
        <code class="literal">
         a
        </code>
        specifies the
            first byte of the binary address. Part
        <code class="literal">
         b
        </code>
        is interpreted as a 24-bit value
            that defines the rightmost three bytes of the binary
            address. This notation is suitable for specifying
            (outmoded) Class A network addresses.
       </p>
      </dd>
      <dt>
       <span class="term">
        <code class="literal">
         a
        </code>
       </span>
      </dt>
      <dd>
       <p>
        The value
        <code class="literal">
         a
        </code>
        is
            interpreted as a 32-bit value that is stored directly
            into the binary address without any byte
            rearrangement.
       </p>
      </dd>
     </dl>
    </div>
    <p>
     In all of the above forms, components of the dotted
      address can be specified in decimal, octal (with a leading
     <code class="constant">
      0
     </code>
     ), or hexadecimal, with a
      leading
     <code class="constant">
      0X
     </code>
     ). Addresses in any
      of these forms are collectively termed
     <span class="emphasis">
      <em>
       IPV4 numbers-and-dots notation
      </em>
     </span>
     .
      The form that uses exactly four decimal numbers is referred
      to as
     <span class="emphasis">
      <em>
       IPv4 dotted-decimal
      notation
      </em>
     </span>
     (or sometimes:
     <span class="emphasis">
      <em>
       IPv4 dotted-quad notation
      </em>
     </span>
     ).
    </p>
    <p>
     <code class="function">
      inet_aton
     </code>
     () returns 1 if the
      supplied string was successfully interpreted, or 0 if the
      string is invalid (
     <code class="varname">
      errno
     </code>
     is
     <span class="emphasis">
      <em>
       not
      </em>
     </span>
     set on error).
    </p>
    <p>
     The
     <code class="function">
      inet_addr
     </code>
     () function
      converts the Internet host address
     <em class="parameter">
      <code>
       cp
      </code>
     </em>
     from IPv4 numbers-and-dots
      notation into binary data in network byte order. If the input
      is invalid,
     <code class="constant">
      INADDR_NONE
     </code>
     (usually &minus;1) is returned. Use of this function is
      problematic because &minus;1 is a valid address
      (255.255.255.255). Avoid its use in favor of
     <code class="function">
      inet_aton
     </code>
     (),
     <a class="link" href="../htmlman3/inet_pton.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        inet_pton
       </span>
       (3)
      </span>
     </a>
     , or
     <a class="link" href="../htmlman3/getaddrinfo.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        getaddrinfo
       </span>
       (3)
      </span>
     </a>
     , which
      provide a cleaner way to indicate error return.
    </p>
    <p>
     The
     <code class="function">
      inet_network
     </code>
     () function
      converts
     <em class="parameter">
      <code>
       cp
      </code>
     </em>
     , a string
      in IPv4 numbers-and-dots notation, into a number in host byte
      order suitable for use as an Internet network address. On
      success, the converted address is returned. If the input is
      invalid, &minus;1 is returned.
    </p>
    <p>
     The
     <code class="function">
      inet_ntoa
     </code>
     () function
      converts the Internet host address
     <em class="parameter">
      <code>
       in
      </code>
     </em>
     , given in network byte
      order, to a string in IPv4 dotted-decimal notation. The
      string is returned in a statically allocated buffer, which
      subsequent calls will overwrite.
    </p>
    <p>
     The
     <code class="function">
      inet_lnaof
     </code>
     () function
      returns the local network address part of the Internet
      address
     <em class="parameter">
      <code>
       in
      </code>
     </em>
     . The
      returned value is in host byte order.
    </p>
    <p>
     The
     <code class="function">
      inet_netof
     </code>
     () function
      returns the network number part of the Internet address
     <em class="parameter">
      <code>
       in
      </code>
     </em>
     . The returned
      value is in host byte order.
    </p>
    <p>
     The
     <code class="function">
      inet_makeaddr
     </code>
     () function
      is the converse of
     <code class="function">
      inet_netof
     </code>
     ()
      and
     <code class="function">
      inet_lnaof
     </code>
     (). It returns an
      Internet host address in network byte order, created by
      combining the network number
     <em class="parameter">
      <code>
       net
      </code>
     </em>
     with the local address
     <em class="parameter">
      <code>
       host
      </code>
     </em>
     , both in host
      byte order.
    </p>
    <p>
     The structure
     <span class="structname">
      in_addr
     </span>
     as
      used in
     <code class="function">
      inet_ntoa
     </code>
     (),
     <code class="function">
      inet_makeaddr
     </code>
     (),
     <code class="function">
      inet_lnaof
     </code>
     () and
     <code class="function">
      inet_netof
     </code>
     () is defined in
     <code class="literal">
      &lt;
     </code>
     <code class="filename">
      netinet/in.h
     </code>
     <code class="literal">
      &gt;
     </code>
     as:
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <div class="informalexample">
       <pre class="programlisting" xml:space="preserve">
typedef uint32_t in_addr_t;

struct in_addr {
    in_addr_t s_addr;
};
</pre>
      </div>
     </blockquote>
    </div>
   </div>
   <div class="refsect1">
    <a id="inet-3_sect2" name="inet-3_sect2" shape="rect">
    </a>
    <h2>
     CONFORMING TO
    </h2>
    <p>
     4.3BSD.
     <code class="function">
      inet_addr
     </code>
     () and
     <code class="function">
      inet_ntoa
     </code>
     () are specified in
      POSIX.1-2001.
     <code class="function">
      inet_aton
     </code>
     () is
      not specified in POSIX.1-2001, but is available on most
      systems.
    </p>
   </div>
   <div class="refsect1">
    <a id="inet-3_sect3" name="inet-3_sect3" shape="rect">
    </a>
    <h2>
     NOTES
    </h2>
    <p>
     On the i386 the host byte order is Least Significant Byte
      first (little endian), whereas the network byte order, as
      used on the Internet, is Most Significant Byte first (big
      endian).
    </p>
    <p>
     <code class="function">
      inet_lnaof
     </code>
     (),
     <code class="function">
      inet_netof
     </code>
     (), and
     <code class="function">
      inet_makeaddr
     </code>
     () are legacy functions that
      assume they are dealing with
     <span class="emphasis">
      <em>
       classful network addresses
      </em>
     </span>
     .
      Classful networking divides IPv4 network addresses into host
      and network components at byte boundaries, as follows:
    </p>
    <div class="variablelist">
     <dl class="variablelist">
      <dt>
       <span class="term">
        Class A
       </span>
      </dt>
      <dd>
       <p>
        This address type is indicated by the value 0 in the
            most significant bit of the (network byte ordered)
            address. The network address is contained in the most
            significant byte, and the host address occupies the
            remaining three bytes.
       </p>
      </dd>
      <dt>
       <span class="term">
        Class B
       </span>
      </dt>
      <dd>
       <p>
        This address type is indicated by the binary value
            10 in the most significant two bits of the address. The
            network address is contained in the two most
            significant bytes, and the host address occupies the
            remaining two bytes.
       </p>
      </dd>
      <dt>
       <span class="term">
        Class C
       </span>
      </dt>
      <dd>
       <p>
        This address type is indicated by the binary value
            110 in the most significant three bits of the address.
            The network address is contained in the three most
            significant bytes, and the host address occupies the
            remaining byte.
       </p>
      </dd>
     </dl>
    </div>
    <p>
     Classful network addresses are now obsolete, having been
      superseded by Classless Inter-Domain Routing (CIDR), which
      divides addresses into network and host components at
      arbitrary bit (rather than byte) boundaries.
    </p>
   </div>
   <div class="refsect1">
    <a id="inet-3_sect4" name="inet-3_sect4" shape="rect">
    </a>
    <h2>
     EXAMPLE
    </h2>
    <p>
     An example of the use of
     <code class="function">
      inet_aton
     </code>
     () and
     <code class="function">
      inet_ntoa
     </code>
     () is shown below. Here are some
      example runs:
    </p>
    <div class="blockquote">
     <blockquote class="blockquote">
      <div class="informalexample">
       <pre class="programlisting" xml:space="preserve">
$<span class="emphasis"><em> ./a.out 226.000.000.037</em></span>      # Last byte is in octal
226.0.0.31
$<span class="emphasis"><em> ./a.out 0x7f.1</em></span>      # First byte is in hex
127.0.0.1
</pre>
      </div>
     </blockquote>
    </div>
    <div class="refsect2">
     <a id="inet-3_sect5" name="inet-3_sect5" shape="rect">
     </a>
     <h3>
      Program source
     </h3>
     <div class="informalexample">
      <pre class="programlisting" xml:space="preserve">
#define _BSD_SOURCE
#include &lt;arpa/inet.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

int
main(int argc, char *argv[])
{
    struct in_addr addr;

    if (argc != 2) {
        fprintf(stderr, "%s &lt;dotted&minus;address&gt;\n", argv[0]);
        exit(EXIT_FAILURE);
    }

    if (inet_aton(argv[1], &amp;addr) == 0) {
        fprintf(stderr, "Invalid address\n");
        exit(EXIT_FAILURE);
    }

    printf("%s\n", inet_ntoa(addr));
    exit(EXIT_SUCCESS);
}
</pre>
     </div>
    </div>
   </div>
   <div class="refsect1">
    <a id="inet-3_sect6" name="inet-3_sect6" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <a class="link" href="../htmlman3/byteorder.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        byteorder
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/getaddrinfo.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        getaddrinfo
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/gethostbyname.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        gethostbyname
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/getnameinfo.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        getnameinfo
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/getnetent.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        getnetent
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/inet_net_pton.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        inet_net_pton
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/inet_ntop.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        inet_ntop
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman3/inet_pton.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        inet_pton
       </span>
       (3)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman5/hosts.5.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        hosts
       </span>
       (5)
      </span>
     </a>
     ,
     <a class="link" href="../htmlman5/networks.5.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        networks
       </span>
       (5)
      </span>
     </a>
    </p>
   </div>
   <div class="colophon">
    <a id="inet-3_sect7" name="inet-3_sect7" shape="rect">
    </a>
    <h2>
     COLOPHON
    </h2>
    <p>
     This page is part of release 3.72 of the Linux
     <em class="replaceable">
      <code>
       man-pages
      </code>
     </em>
     project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man&minus;pages/.
    </p>
   </div>
  </div>
 </body>
</html>

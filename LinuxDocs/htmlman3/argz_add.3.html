<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
  <title>
   argz_add(3) &mdash; Linux manual pages
  </title>
  <link href="../stylesheet/manpages.css" rel="stylesheet" type="text/css"/>
  <link href="../index.html" rel="home" title="argz_add(3) &mdash; Linux manual pages"/>
  <script src="../stylesheet/manpages.js" type="text/javascript" xml:space="preserve">
  </script>
  <link href="../stylesheet/icon.gif" rel="icon" type="image/gif"/>
 </head>
 <body>
  <div class="refentry">
   <a id="argz-add.3" name="argz-add.3" shape="rect">
   </a>
   <div class="titlepage">
   </div>
   <div class="refnamediv">
    <h2>
     Name
    </h2>
    <p>
     argz_add, argz_add_sep, argz_append, argz_count,
      argz_create, argz_create_sep, argz_delete, argz_extract,
      argz_insert, argz_next, argz_replace, argz_stringify &mdash;
      functions to handle an argz list
    </p>
   </div>
   <div class="refsynopsisdiv">
    <h2>
     Synopsis
    </h2>
    <div class="funcsynopsis">
     <pre class="funcsynopsisinfo" xml:space="preserve">
#include &lt;argz.h&gt;
</pre>
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         error_t
         <strong>
          argz_add
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        char **
        <var class="pdparam">
         argz
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t *
        <var class="pdparam">
         argz_len
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         str
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         error_t
         <strong>
          argz_add_sep
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        char **
        <var class="pdparam">
         argz
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t *
        <var class="pdparam">
         argz_len
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         str
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         delim
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         error_t
         <strong>
          argz_append
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        char **
        <var class="pdparam">
         argz
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t *
        <var class="pdparam">
         argz_len
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         buf
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t
        <var class="pdparam">
         buf_len
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         size_t
         <strong>
          argz_count
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         argz
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t
        <var class="pdparam">
         argz_len
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         error_t
         <strong>
          argz_create
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        char * const
        <var class="pdparam">
         argv[]
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        char **
        <var class="pdparam">
         argz
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t *
        <var class="pdparam">
         argz_len
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         error_t
         <strong>
          argz_create_sep
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         str
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         sep
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        char **
        <var class="pdparam">
         argz
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t *
        <var class="pdparam">
         argz_len
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         void
         <strong>
          argz_delete
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        char **
        <var class="pdparam">
         argz
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t *
        <var class="pdparam">
         argz_len
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        char *
        <var class="pdparam">
         entry
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         void
         <strong>
          argz_extract
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         argz
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t
        <var class="pdparam">
         argz_len
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        char **
        <var class="pdparam">
         argv
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         error_t
         <strong>
          argz_insert
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        char **
        <var class="pdparam">
         argz
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t *
        <var class="pdparam">
         argz_len
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        char *
        <var class="pdparam">
         before
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         entry
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         char
            *
         <strong>
          argz_next
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         argz
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t
        <var class="pdparam">
         argz_len
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         entry
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         error_t
         <strong>
          argz_replace
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        char **
        <var class="pdparam">
         argz
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t *
        <var class="pdparam">
         argz_len
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         str
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        const char *
        <var class="pdparam">
         with
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        unsigned int *
        <var class="pdparam">
         replace_count
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
    <div class="funcsynopsis">
     <table border="0" class="funcprototype-table" style="cellspacing: 0; cellpadding: 0;" summary="Function synopsis">
      <tr>
       <td colspan="1" rowspan="1">
        <code class="funcdef">
         void
         <strong>
          argz_stringify
         </strong>
         (
        </code>
       </td>
       <td colspan="1" rowspan="1">
        char *
        <var class="pdparam">
         argz
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        size_t
        <var class="pdparam">
         len
        </var>
        ,
       </td>
      </tr>
      <tr>
       <td colspan="1" rowspan="1">
        &nbsp;
       </td>
       <td colspan="1" rowspan="1">
        int
        <var class="pdparam">
         sep
        </var>
        <code>
         )
        </code>
        ;
       </td>
      </tr>
     </table>
     <div class="funcprototype-spacer">
      &nbsp;
     </div>
    </div>
   </div>
   <div class="refsect1">
    <a id="argz-add-3_sect1" name="argz-add-3_sect1" shape="rect">
    </a>
    <h2>
     DESCRIPTION
    </h2>
    <p>
     These functions are glibc-specific.
    </p>
    <p>
     An argz vector is a pointer to a character buffer together
      with a length. The intended interpretation of the character
      buffer is an array of strings, where the strings are
      separated by null bytes ('\0'). If the length is nonzero, the
      last byte of the buffer must be a null byte.
    </p>
    <p>
     These functions are for handling argz vectors. The pair
      (NULL,0) is an argz vector, and, conversely, argz vectors of
      length 0 must have null pointer. Allocation of nonempty argz
      vectors is done using
     <a class="link" href="../htmlman3/malloc.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        malloc
       </span>
       (3)
      </span>
     </a>
     , so that
     <a class="link" href="../htmlman3/malloc.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        free
       </span>
       (3)
      </span>
     </a>
     can be used to
      dispose of them again.
    </p>
    <p>
     <code class="function">
      argz_add
     </code>
     () adds the string
     <em class="parameter">
      <code>
       str
      </code>
     </em>
     at the end of the
      array *
     <em class="parameter">
      <code>
       argz
      </code>
     </em>
     , and
      updates *
     <em class="parameter">
      <code>
       argz
      </code>
     </em>
     and
      *
     <em class="parameter">
      <code>
       argz_len
      </code>
     </em>
     .
    </p>
    <p>
     <code class="function">
      argz_add_sep
     </code>
     () is similar,
      but splits the string
     <em class="parameter">
      <code>
       str
      </code>
     </em>
     into substrings separated
      by the delimiter
     <em class="parameter">
      <code>
       delim
      </code>
     </em>
     . For example, one might
      use this on a UNIX search path with delimiter ':'.
    </p>
    <p>
     <code class="function">
      argz_append
     </code>
     () appends the
      argz vector (
     <em class="parameter">
      <code>
       buf
      </code>
     </em>
     ,
     <em class="parameter">
      <code>
       buf_len
      </code>
     </em>
     ) after
      (*
     <em class="parameter">
      <code>
       argz
      </code>
     </em>
     , *
     <em class="parameter">
      <code>
       argz_len
      </code>
     </em>
     ) and updates
      *
     <em class="parameter">
      <code>
       argz
      </code>
     </em>
     and *
     <em class="parameter">
      <code>
       argz_len
      </code>
     </em>
     . (Thus, *
     <em class="parameter">
      <code>
       argz_len
      </code>
     </em>
     will be increased by
     <em class="parameter">
      <code>
       buf_len
      </code>
     </em>
     .)
    </p>
    <p>
     <code class="function">
      argz_count
     </code>
     () counts the
      number of strings, that is, the number of null bytes ('\0'),
      in (
     <em class="parameter">
      <code>
       argz
      </code>
     </em>
     ,
     <em class="parameter">
      <code>
       argz_len
      </code>
     </em>
     ).
    </p>
    <p>
     <code class="function">
      argz_create
     </code>
     () converts a
      UNIX-style argument vector
     <em class="parameter">
      <code>
       argv
      </code>
     </em>
     , terminated by
     <span class="emphasis">
      <em>
       (char *) 0
      </em>
     </span>
     , into an
      argz vector (*
     <em class="parameter">
      <code>
       argz
      </code>
     </em>
     ,
      *
     <em class="parameter">
      <code>
       argz_len
      </code>
     </em>
     ).
    </p>
    <p>
     <code class="function">
      argz_create_sep
     </code>
     () converts
      the null-terminated string
     <em class="parameter">
      <code>
       str
      </code>
     </em>
     into an argz vector
      (*
     <em class="parameter">
      <code>
       argz
      </code>
     </em>
     , *
     <em class="parameter">
      <code>
       argz_len
      </code>
     </em>
     ) by breaking it up at
      every occurrence of the separator
     <em class="parameter">
      <code>
       sep
      </code>
     </em>
     .
    </p>
    <p>
     <code class="function">
      argz_delete
     </code>
     () removes the
      substring pointed to by
     <em class="parameter">
      <code>
       entry
      </code>
     </em>
     from the argz vector
      (*
     <em class="parameter">
      <code>
       argz
      </code>
     </em>
     , *
     <em class="parameter">
      <code>
       argz_len
      </code>
     </em>
     ) and updates
      *
     <em class="parameter">
      <code>
       argz
      </code>
     </em>
     and *
     <em class="parameter">
      <code>
       argz_len
      </code>
     </em>
     .
    </p>
    <p>
     <code class="function">
      argz_extract
     </code>
     () is the
      opposite of
     <code class="function">
      argz_create
     </code>
     (). It
      takes the argz vector (
     <em class="parameter">
      <code>
       argz
      </code>
     </em>
     ,
     <em class="parameter">
      <code>
       argz_len
      </code>
     </em>
     ) and fills the array
      starting at
     <em class="parameter">
      <code>
       argv
      </code>
     </em>
     with
      pointers to the substrings, and a final NULL, making a
      UNIX-style argv vector. The array
     <em class="parameter">
      <code>
       argv
      </code>
     </em>
     must have room for
     <code class="function">
      argz_count
     </code>
     (
     <em class="parameter">
      <code>
       argz
      </code>
     </em>
     ,
     <em class="parameter">
      <code>
       argz_len
      </code>
     </em>
     ) + 1 pointers.
    </p>
    <p>
     <code class="function">
      argz_insert
     </code>
     () is the
      opposite of
     <code class="function">
      argz_delete
     </code>
     (). It
      inserts the argument
     <em class="parameter">
      <code>
       entry
      </code>
     </em>
     at position
     <em class="parameter">
      <code>
       before
      </code>
     </em>
     into the argz vector
      (*
     <em class="parameter">
      <code>
       argz
      </code>
     </em>
     , *
     <em class="parameter">
      <code>
       argz_len
      </code>
     </em>
     ) and updates
      *
     <em class="parameter">
      <code>
       argz
      </code>
     </em>
     and *
     <em class="parameter">
      <code>
       argz_len
      </code>
     </em>
     . If
     <em class="parameter">
      <code>
       before
      </code>
     </em>
     is NULL, then
     <em class="parameter">
      <code>
       entry
      </code>
     </em>
     will inserted at the
      end.
    </p>
    <p>
     <code class="function">
      argz_next
     </code>
     () is a function to
      step trough the argz vector. If
     <em class="parameter">
      <code>
       entry
      </code>
     </em>
     is NULL, the first entry
      is returned. Otherwise, the entry following is returned. It
      returns NULL if there is no following entry.
    </p>
    <p>
     <code class="function">
      argz_replace
     </code>
     () replaces each
      occurrence of
     <em class="parameter">
      <code>
       str
      </code>
     </em>
     with
     <em class="parameter">
      <code>
       with
      </code>
     </em>
     ,
      reallocating argz as necessary. If
     <em class="parameter">
      <code>
       replace_count
      </code>
     </em>
     is non-NULL,
      *
     <em class="parameter">
      <code>
       replace_count
      </code>
     </em>
     will
      be incremented by the number of replacements.
    </p>
    <p>
     <code class="function">
      argz_stringify
     </code>
     () is the
      opposite of
     <code class="function">
      argz_create_sep
     </code>
     ().
      It transforms the argz vector into a normal string by
      replacing all null bytes ('\0') except the last by
     <em class="parameter">
      <code>
       sep
      </code>
     </em>
     .
    </p>
   </div>
   <div class="refsect1">
    <a id="argz-add-3_sect2" name="argz-add-3_sect2" shape="rect">
    </a>
    <h2>
     RETURN VALUE
    </h2>
    <p>
     All argz functions that do memory allocation have a return
      type of
     <span class="type">
      error_t
     </span>
     , and return 0 for
      success, and
     <span class="errorname">
      ENOMEM
     </span>
     if an
      allocation error occurs.
    </p>
   </div>
   <div class="refsect1">
    <a id="argz-add-3_sect3" name="argz-add-3_sect3" shape="rect">
    </a>
    <h2>
     CONFORMING TO
    </h2>
    <p>
     These functions are a GNU extension. Handle with care.
    </p>
   </div>
   <div class="refsect1">
    <a id="argz-add-3_sect4" name="argz-add-3_sect4" shape="rect">
    </a>
    <h2>
     BUGS
    </h2>
    <p>
     Argz vectors without a terminating null byte may lead to
      Segmentation Faults.
    </p>
   </div>
   <div class="refsect1">
    <a id="argz-add-3_sect5" name="argz-add-3_sect5" shape="rect">
    </a>
    <h2>
     SEE ALSO
    </h2>
    <p>
     <a class="link" href="../htmlman3/envz_add.3.html" shape="rect" target="_top">
      <span class="citerefentry">
       <span class="refentrytitle">
        envz_add
       </span>
       (3)
      </span>
     </a>
    </p>
   </div>
   <div class="colophon">
    <a id="argz-add-3_sect6" name="argz-add-3_sect6" shape="rect">
    </a>
    <h2>
     COLOPHON
    </h2>
    <p>
     This page is part of release 3.72 of the Linux
     <em class="replaceable">
      <code>
       man-pages
      </code>
     </em>
     project. A
      description of the project, information about reporting bugs,
      and the latest version of this page, can be found at
      http://www.kernel.org/doc/man&minus;pages/.
    </p>
   </div>
  </div>
 </body>
</html>
